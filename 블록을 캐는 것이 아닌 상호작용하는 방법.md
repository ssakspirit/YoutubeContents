---
title: "블록을 캐는 것이 아닌 상호작용하는 방법"
date: "2025-04-25"
thumbnail: "https://i.ytimg.com/vi/nDLuzKOrn8k/hqdefault.jpg"
tags: ["중급", "베드락", "스크립트API", "소스코드", "설계자", "롱폼"]
url: "https://youtu.be/nDLuzKOrn8k?si=HEwa95RBP8a3lZyI"
duration: "2:02"
series: "애드온 제작 튜토리얼"
difficulty: "중급"
---

# 블록을 캐는 것이 아닌 상호작용하는 방법

<div align="center">
<img src="https://i.ytimg.com/vi/nDLuzKOrn8k/hqdefault.jpg" alt="썸네일" width="600"/>
</div>

## 목차
- [소개](#소개)
- [주요 내용](#주요-내용)
- [실습 과정](#실습-과정)
- [자주 묻는 질문](#자주-묻는-질문)
- [추가 리소스](#추가-리소스)

## 소개
이 영상은 마인크래프트 베드락 에디션에서 스크립트 API를 활용하여 블록을 부수지 않고 상호작용(우클릭)하여 특별한 효과를 얻는 방법을 설명합니다. 특정 도구를 들고 블록을 우클릭하면 설정된 효과(포션 효과, 메시지 등)를 얻을 수 있는 시스템을 구현하는 방법을 배울 수 있습니다.

## 주요 내용

### 1. 블록 상호작용 시스템 개요
- 특정 아이템을 들고 블록을 우클릭하여 효과 얻기
- 블록 타입별로 다른 효과 설정 방법
- 커스텀 도구 이름 설정과 인식 시스템 구현

### 2. 다양한 블록별 효과 설정
- 다이아몬드 블록 우클릭: 점프 부스트 효과
- 에메랄드 블록 우클릭: 신속 효과
- 금 블록 우클릭: 힘 효과
- 기타 블록별 커스텀 효과 추가 방법

### 3. 스크립트 코드 구조 이해
- 블록 상호작용 이벤트 처리 방법
- 아이템 이름 인식 및 조건 확인 로직
- 효과 부여를 위한 명령어 실행 함수
- 중복 작동 방지를 위한 이벤트 제어

## 실습 과정

1. **특별 효과 시스템 동작 원리 (00:00-00:30)**
   - 모루를 이용해 "마법 지팡이"라는 이름의 막대기 제작
   - 다이아몬드 블록에 우클릭하여 점프 부스트 효과 획득
   - 에메랄드 블록에 우클릭하여 신속 효과 획득
   - 금 블록에 우클릭하여 힘 효과 획득

2. **코드 구성 및 수정 방법 (00:31-01:30)**
   - 주석으로 작성된 사용법 및 구성 확인
   - 블록별 실행 명령어 정의 부분 분석
   - 다이아몬드, 에메랄드, 금 블록 외 다양한 블록 추가 방법
   - 상호작용 가능한 아이템 이름 및 종류 수정 방법

3. **핵심 함수 분석 (01:31-끝)**
   - playerInteractWithBlock 이벤트 핸들러 구조 설명
   - 상호작용하는 플레이어, 블록, 아이템 정보 추출 방법
   - 이벤트 한 번만 실행되게 하는 설정 방법
   - 아이템 이름 확인 및 블록 타입에 따른 명령어 실행 로직

## 자주 묻는 질문

**Q: 이 기능을 다양한 게임 메커니즘에 어떻게 활용할 수 있나요?**  
A: 이 기능은 다양한 방식으로 활용할 수 있습니다. 예를 들어, RPG 스타일 마법 시스템, 특수 능력을 얻는 퀘스트 보상, 특정 위치에서만 작동하는 비밀 능력, 또는 월드 내 특수 상호작용 지점을 만드는 데 사용할 수 있습니다. 서버의 기능성을 확장하거나 어드벤처 맵에서 퍼즐 요소로도 활용 가능합니다.

**Q: 효과 외에 다른 종류의 동작도 추가할 수 있나요?**  
A: 네, 명령어 실행 부분에 어떤 마인크래프트 명령어든 추가할 수 있습니다. 텔레포트, 몬스터 소환, 구조물 생성, 아이템 지급, 날씨 변경 등 다양한 기능을 구현할 수 있습니다. 또한 여러 개의 명령어를 연속으로 실행할 수도 있습니다.

**Q: 특정 조건(시간, 플레이어 상태 등)에 따라 효과가 달라지게 할 수 있나요?**  
A: 코드를 수정하여 추가 조건을 넣을 수 있습니다. 예를 들어, 게임 내 시간, 플레이어의 체력이나 경험치, 인벤토리 내 특정 아이템 보유 여부, 심지어 플레이어의 위치에 따라 다른 효과를 부여하는 조건문을 추가할 수 있습니다.

**Q: 사용 가능한 아이템 종류를 여러 개로 설정할 수 있나요?**  
A: 네, 아이템 확인 부분을 수정하여 여러 종류의 아이템을 인식하도록 할 수 있습니다. 또한 아이템 속성(인챈트, 내구도 등)에 따라 다른 효과를 주는 것도 가능합니다.

## 추가 리소스
- [스크립트 API 시작하기 영상](https://youtu.be/zBVdaQ0AXOY)
- [코드 GitHub 저장소](https://github.com/ssakspirit/scriptAPI/blob/main/blockInteraction.js)
- [브릿지 가이드 영상](https://youtu.be/L2s8-w8HXIk?si=aWJONVaLN0kngFtg)
- [베드락 공식 문서](https://learn.microsoft.com/ko-kr/minecraft/creator/scriptapi/minecraft/server/minecraft-server)
- [스티브코딩 페이스북 페이지](https://www.facebook.com/stvcoding/)

## 이런 분들에게 추천합니다
- 마인크래프트 베드락 에디션에서 애드온 개발을 배우고 싶은 중급 사용자
- 커스텀 게임 메커니즘을 구현하고 싶은 서버 운영자
- 스크립트 API를 활용한 이벤트 핸들링을 배우고 싶은 개발자
- 어드벤처 맵이나 미니게임에 특별한 상호작용 요소를 추가하고 싶은 제작자
- 교육용 마인크래프트 환경에서 특별한 상호작용 시스템을 구현하려는 교사

## 관련 튜토리얼
- [스크립트 API 첫걸음, 채팅명령어 만들기 #애드온제작](https://youtu.be/zBVdaQ0AXOY)
- [블록을 부수는 이벤트 확인하기 #애드온제작](https://youtu.be/YQihKbvthNs)
- [블록을 부수면 랜덤 아이템을 받는다! 가챠 블록](https://youtu.be/w4C9kCY7lng)
- [스크립트 API로 본격적으로 애드온 제작하기 #애드온제작](https://youtu.be/ID)

## 실습 코드
```javascript
// 블록 상호작용 스크립트
import { world, ItemStack, MinecraftItemTypes } from "@minecraft/server";

// 사용법:
// 1. 모루를 사용해 막대기 이름을 "마법 지팡이"로 변경
// 2. 지팡이를 들고 설정된 블록에 우클릭(상호작용)
// 3. 블록 타입에 따라 다른 효과 획득

// 블록별로 실행할 명령어 정의
const blockCommands = {
  "minecraft:diamond_block": {
    commands: [
      "effect @s jump_boost 30 2 true",
      "playsound random.levelup @s",
      "particle minecraft:totem_particle ~ ~1 ~"
    ],
    message: "점프 부스트를 획득했습니다!"
  },
  "minecraft:emerald_block": {
    commands: [
      "effect @s speed 30 2 true",
      "playsound random.orb @s",
      "particle minecraft:villager_happy ~ ~1 ~"
    ],
    message: "신속 효과를 획득했습니다!"
  },
  "minecraft:gold_block": {
    commands: [
      "effect @s strength 30 1 true",
      "playsound random.anvil_use @s",
      "particle minecraft:critical_hit_emitter ~ ~1 ~"
    ],
    message: "힘 효과를 획득했습니다!"
  },
  "minecraft:redstone_block": {
    commands: [
      "effect @s haste 30 2 true",
      "playsound random.click @s"
    ],
    message: "성급함 효과를 획득했습니다!"
  },
  "minecraft:obsidian": {
    commands: [
      "effect @s resistance 30 2 true",
      "playsound random.toast @s"
    ],
    message: "저항 효과를 획득했습니다!"
  },
  "minecraft:coal_block": {
    commands: [
      "effect @s fire_resistance 30 1 true",
      "playsound random.fizz @s"
    ],
    message: "화염 저항 효과를 획득했습니다!"
  }
};

// 상호작용에 사용할 아이템 설정
const interactionItem = {
  type: "minecraft:stick",
  name: "마법 지팡이"
};

// 명령어 실행 함수
function runCommand(command, player) {
  try {
    return player.runCommand(command);
  } catch (error) {
    console.warn(`명령어 실행 실패: ${command}`);
    console.warn(error);
    return false;
  }
}

// 블록 상호작용 이벤트 처리
world.beforeEvents.playerInteractWithBlock.subscribe((event) => {
  // 첫 번째 이벤트만 실행
  event.cancel = true;
  
  const { player, block, itemStack } = event;
  
  // 플레이어가 올바른 아이템을 들고 있는지 확인
  if (!itemStack || itemStack.typeId !== interactionItem.type) {
    return;
  }
  
  // 아이템 이름 확인
  const itemName = itemStack.nameTag;
  if (itemName !== interactionItem.name) {
    return;
  }
  
  // 상호작용한 블록의 명령어 찾기
  const blockData = blockCommands[block.typeId];
  if (!blockData) {
    return;
  }
  
  // 명령어 실행
  for (const command of blockData.commands) {
    runCommand(command, player);
  }
  
  // 메시지 전송
  if (blockData.message) {
    player.tell(blockData.message);
  }
});

console.log("블록 상호작용 스크립트가 로드되었습니다!");
```

## 태그
#마인크래프트 #베드락 #애드온제작 #스크립트API #이벤트핸들링 #게임개발 #스티브코딩 #상호작용 #커스텀효과 #블록이벤트

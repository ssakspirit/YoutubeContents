---
title: "아이템을 사용하면 아이템이 몇 개인지 알려줌"
date: "2023-09-30"
thumbnail: "https://i.ytimg.com/vi/AAuMnEdEjxU/hqdefault.jpg"
tags: ["고급", "베드락", "스크립트API", "소스코드", "설계자", "롱폼", "인벤토리", "아이템", "UI"]
url: "https://www.youtube.com/watch?v=AAuMnEdEjxU"
duration: "4:03"
difficulty: "고급"
---

# 아이템을 사용하면 아이템이 몇 개인지 알려줌

<div align="center">
<img src="https://i.ytimg.com/vi/AAuMnEdEjxU/hqdefault.jpg" alt="썸네일" width="600"/>
</div>

## 목차
- [소개](#소개)
- [기능 시연](#기능-시연)
- [코드 설명](#코드-설명)
- [활용 방안](#활용-방안)
- [전체 코드 및 다운로드](#전체-코드-및-다운로드)

## 소개
이 영상은 마인크래프트 베드락 에디션에서 스크립트 API를 활용하여 플레이어가 아이템을 사용할 때 해당 아이템이 인벤토리에 총 몇 개 있는지 알려주는 기능을 구현하는 방법을 설명합니다. 이 기능을 통해 플레이어는 인벤토리 전체(핫바와 소지품 모두 포함)에 특정 아이템이 몇 개 있는지 쉽게 확인할 수 있습니다.

## 기능 시연

### 작동 방식
- 플레이어가 아이템을 들고 마우스 오른쪽 클릭(사용)
- 채팅창에 해당 아이템이 인벤토리에 총 몇 개 있는지 표시
- 예: "마인크래프트 다이아몬드 아이템이 총 20개 있습니다"

### 특징
- 핫바에 있는 아이템뿐만 아니라 인벤토리 전체 확인
- 같은 종류의 아이템이라면 모든 슬롯을 검색하여 합산
- 사용한 아이템과 동일한 종류의 아이템만 카운트

### 시연 예시
- 다이아몬드 20개 확인
- 빵 4개 확인
- 핫바에 9개, 소지품에 7개 있는 쿠키 총 16개 확인

## 코드 설명

### 이벤트 구독
```javascript
world.afterEvents.itemUse.subscribe((eventData) => {
  const item = eventData.itemStack;
  const player = eventData.source;
  
  if (item) {
    // 아이템 카운팅 로직
  }
});
```
- `itemUse` 이벤트를 구독하여 아이템 사용 감지
- 사용한 아이템(`itemStack`)과 플레이어(`source`) 정보 가져오기

### 인벤토리 접근
```javascript
const itemTypeId = item.typeId;
const inventoryComponent = player.getComponent("minecraft:inventory");
const inventoryContainer = inventoryComponent.container;
```
- 사용한 아이템의 ID(이름) 저장
- 플레이어의 인벤토리 컴포넌트 접근
- 인벤토리 컨테이너(슬롯들) 정보 가져오기

### 아이템 카운팅 로직
```javascript
let totalItems = 0;

for (let i = 0; i < inventoryContainer.size; i++) {
  const inventoryItem = inventoryContainer.getItem(i);
  
  if (inventoryItem && inventoryItem.typeId === itemTypeId) {
    totalItems += inventoryItem.amount;
  }
}
```
- `totalItems` 변수로 아이템 총 개수 추적
- 인벤토리 전체 슬롯을 반복하여 검사
- 슬롯에 아이템이 있고, 사용한 아이템과 같은 종류인 경우 개수 더하기

### 결과 표시
```javascript
player.sendMessage(`마인크래프트 ${itemTypeId.replace("minecraft:", "")} 아이템이 총 ${totalItems}개 있습니다`);
```
- 플레이어에게 메시지로 결과 표시
- 아이템 이름에서 "minecraft:" 부분 제거하여 깔끔하게 표시

## 활용 방안

### 인벤토리 관리 개선
- 대량의 아이템을 관리할 때 빠른 확인 가능
- 특정 아이템의 보유량을 쉽게 파악

### 게임플레이 확장
- 퀘스트나 미션에서 아이템 수집 진행 상황 확인
- 특정 아이템을 모으는 미니게임 구현

### 서버 기능 강화
- 거래 시스템에서 보유한 화폐 아이템 빠르게 확인
- 특정 재료가 얼마나 있는지 확인하여 제작 가능 여부 판단

### 교육적 활용
- 학생들이 필요한 재료를 확인하는 데 도움
- 자원 관리 개념 학습에 활용

## 전체 코드 및 다운로드

### 코드 다운로드
- [스크립트 API 시작하기](https://youtu.be/zBVdaQ0AXOY)
- [전체 코드 GitHub](https://github.com/ssakspirit/scriptAPI)

### 설치 방법
1. 스크립트 API 애드온 다운로드 및 설치
2. 제공된 코드를 프로젝트에 추가
3. 월드에 애드온 적용
4. 게임 내에서 아이템 사용으로 기능 테스트

## 이런 분들에게 추천합니다
- 마인크래프트 서버 관리자 및 개발자
- 커스텀 게임플레이 요소를 추가하고 싶은 맵 제작자
- 스크립트 API를 활용한 기능 개발에 관심 있는 프로그래머
- 효율적인 인벤토리 관리를 원하는 플레이어
- 교육용 마인크래프트 환경을 구축하는 교사
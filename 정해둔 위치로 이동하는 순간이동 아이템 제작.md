---
title: "정해둔 위치로 이동하는 순간이동 아이템 제작"
date: "2024-08-23"
thumbnail: "https://i.ytimg.com/vi/zJk_ZyHty0Y/hqdefault.jpg"
tags: ["중급", "베드락", "스크립트API", "소스코드", "설계자", "롱폼", "순간이동", "아이템제작"]
url: "https://www.youtube.com/watch?v=zJk_ZyHty0Y"
duration: "약 3:04"
difficulty: "중급"
---

# 정해둔 위치로 이동하는 순간이동 아이템 제작

<div align="center">
<img src="https://i.ytimg.com/vi/zJk_ZyHty0Y/hqdefault.jpg" alt="썸네일" width="600"/>
</div>

## 목차
- [소개](#소개)
- [기능 개요](#기능-개요)
- [구현 방법](#구현-방법)
- [코드 분석](#코드-분석)
- [커스터마이징](#커스터마이징)
- [자주 묻는 질문](#자주-묻는-질문)
- [추가 리소스](#추가-리소스)

## 소개

이 영상은 베드락 에디션의 스크립트 API를 사용하여 나침반을 순간이동 아이템으로 제작하는 방법을 설명합니다. 플레이어가 사전에 설정해둔 특정 위치들(마을, 상점, 동굴 등)로 즉시 이동할 수 있는 편리한 도구를 만드는 고급 튜토리얼입니다.

## 기능 개요

### 1. 기본 기능
- **나침반 사용**: 마우스 오른쪽 클릭으로 UI 열기
- **좌표 표시**: 현재 위치 좌표가 나침반에 표시
- **UI 인터페이스**: 이동할 위치를 선택할 수 있는 메뉴
- **즉시 이동**: 선택한 위치로 순간이동
- **상태 알림**: 액션바에 이동 완료 메시지 표시

### 2. 설정된 위치들
- **마을**: 좌표 (0, 0, 0)
- **상점**: 좌표 (0, 10, 0)
- **동굴**: 좌표 (0, 0, 20)
- **사용자 추가 가능**: 원하는 위치 추가 설정 가능

## 구현 방법

### 1. 이벤트 리스너 설정
```javascript
// 아이템 사용 이벤트 감지
world.afterEvents.itemUse.subscribe((event) => {
    // 사용된 아이템과 플레이어 정보 저장
    const item = event.itemStack;
    const player = event.source;
    
    // 나침반인지 확인
    if (item.typeId === 'minecraft:compass') {
        showUI(player);
    }
});
```

### 2. UI 생성 함수
```javascript
function showUI(player) {
    const form = new ModalFormData()
        .title('순간이동')
        .submitButton('마을로 이동')
        .submitButton('상점으로 이동')
        .submitButton('동굴로 이동');
    
    // UI 표시 및 응답 처리
    form.show(player).then((response) => {
        handleTeleport(player, response.selection);
    });
}
```

### 3. 순간이동 처리
```javascript
function handleTeleport(player, selection) {
    let destination;
    let message;
    
    switch(selection) {
        case 0: // 마을
            destination = { x: 0, y: 0, z: 0 };
            message = '마을로 이동 완료';
            break;
        case 1: // 상점
            destination = { x: 0, y: 10, z: 0 };
            message = '상점으로 이동 완료';
            break;
        case 2: // 동굴
            destination = { x: 0, y: 0, z: 20 };
            message = '동굴로 이동 완료';
            break;
    }
    
    // 순간이동 실행
    player.runCommand(`tp ${destination.x} ${destination.y} ${destination.z}`);
    
    // 완료 메시지 표시
    player.runCommand(`title @s actionbar ${message}`);
}
```

## 코드 분석

### 1. 이벤트 처리 구조
```javascript
// 메인 이벤트 리스너
world.afterEvents.itemUse.subscribe((event) => {
    const item = event.itemStack;
    const player = event.source;
    
    // 나침반 체크
    if (item.typeId === 'minecraft:compass') {
        showUI(player);
    }
});
```

**주요 개념:**
- `world.afterEvents.itemUse`: 아이템 사용 이벤트
- `event.itemStack`: 사용된 아이템 정보
- `event.source`: 아이템을 사용한 플레이어

### 2. UI 구성
```javascript
// 모달 폼 생성
const form = new ModalFormData()
    .title('순간이동 메뉴')
    .submitButton('마을로 이동')
    .submitButton('상점으로 이동')
    .submitButton('동굴로 이동');
```

**UI 특징:**
- 제목이 있는 모달 창
- 여러 개의 선택 버튼
- 깔끔하고 직관적인 인터페이스

### 3. 조건부 처리
```javascript
// 선택에 따른 분기 처리
if (response.selection === 0) {
    // 마을로 이동
    player.runCommand('tp 0 0 0');
    player.runCommand('title @s actionbar 마을로 이동 완료');
} else if (response.selection === 1) {
    // 상점으로 이동
    player.runCommand('tp 0 10 0');
    player.runCommand('title @s actionbar 상점으로 이동 완료');
} else if (response.selection === 2) {
    // 동굴로 이동
    player.runCommand('tp 0 0 20');
    player.runCommand('title @s actionbar 동굴로 이동 완료');
}
```

## 커스터마이징

### 1. 새로운 위치 추가
```javascript
// 기존 UI에 버튼 추가
const form = new ModalFormData()
    .title('순간이동 메뉴')
    .submitButton('마을로 이동')
    .submitButton('상점으로 이동')
    .submitButton('동굴로 이동')
    .submitButton('항구로 이동'); // 새 위치 추가

// 새로운 조건 추가
if (response.selection === 3) {
    player.runCommand('tp 0 0 30');
    player.runCommand('title @s actionbar 항구로 이동 완료');
}
```

### 2. 좌표 설정 변경
```javascript
// 위치 정보를 객체로 관리
const locations = {
    village: { x: 100, y: 64, z: 200, name: '마을' },
    shop: { x: -50, y: 64, z: 150, name: '상점' },
    cave: { x: 0, y: 32, z: -100, name: '동굴' },
    port: { x: 200, y: 64, z: 50, name: '항구' }
};
```

### 3. 다른 아이템 사용
```javascript
// 다른 아이템으로 변경 (예: 시계)
if (item.typeId === 'minecraft:clock') {
    showUI(player);
}

// 또는 에메랄드
if (item.typeId === 'minecraft:emerald') {
    showUI(player);
}
```

### 4. 권한 시스템 추가
```javascript
// 관리자만 사용 가능하게 하기
function hasPermission(player) {
    return player.hasTag('admin') || player.hasTag('teleport_user');
}

// 아이템 사용 시 권한 체크
if (item.typeId === 'minecraft:compass' && hasPermission(player)) {
    showUI(player);
} else if (item.typeId === 'minecraft:compass') {
    player.runCommand('title @s actionbar 순간이동 권한이 없습니다');
}
```

## 자주 묻는 질문

**Q: 이 기능을 사용하기 위한 요구사항은 무엇인가요?**
A: 베드락 에디션과 스크립트 API가 활성화된 서버가 필요합니다. 또한 행동 팩(Behavior Pack)을 제작하고 적용할 수 있어야 합니다.

**Q: 좌표는 어떻게 얻나요?**
A: F3+G (좌표 표시) 기능을 사용하거나 `/tp` 명령어로 원하는 위치로 이동한 후 좌표를 확인할 수 있습니다.

**Q: UI에 표시되는 위치를 동적으로 변경할 수 있나요?**
A: 네, 설정 파일이나 명령어를 통해 위치를 추가하거나 수정하는 시스템을 추가로 구현할 수 있습니다.

**Q: 여러 플레이어가 동시에 사용해도 괜찮나요?**
A: 네, 각 플레이어마다 개별적으로 UI가 표시되고 처리되므로 동시 사용에 문제가 없습니다.

**Q: 다른 차원(네더, 엔드)으로도 이동할 수 있나요?**
A: 네, `/tp` 명령어에 차원 정보를 추가하면 다른 차원으로도 이동 가능합니다. 예: `/tp 0 64 0 overworld`

## 추가 리소스

- [스크립트 API 시작하기 가이드](https://youtu.be/zBVdaQ0AXOY)
- [베드락 에디션 스크립트 API 문서](링크)
- [행동 팩 제작 튜토리얼](링크)

## 이런 분들에게 추천합니다

- 서버 관리자나 월드 제작자
- 플레이어 편의 기능을 개발하고 싶은 개발자
- 스크립트 API를 배우고 활용하고 싶은 중급 사용자
- 순간이동 시스템을 구현하고 싶은 게임 제작자
- 마인크래프트 서버의 편의성을 높이고 싶은 운영자

## 응용 아이디어

### 1. 웨이포인트 시스템
- 플레이어가 직접 위치를 저장하고 불러오는 기능
- 개인별 즐겨찾기 위치 관리
- 공유 가능한 위치 정보

### 2. 요금 시스템
- 이동할 때마다 일정 비용 차감
- 거리에 따른 차등 요금제
- 경제 시스템과 연동

### 3. 쿨다운 시스템
- 연속 사용 제한 기능
- 시간 기반 사용 제한
- 상황에 따른 사용 제한

### 4. 팀 기반 이동
- 같은 팀 멤버들을 함께 이동
- 팀 리더만 사용 가능한 기능
- 팀별 전용 위치

## 보안 고려사항

### 1. 권한 관리
```javascript
// 태그 기반 권한 시스템
const allowedPlayers = ['admin', 'moderator', 'vip'];

function checkPermission(player) {
    return allowedPlayers.some(tag => player.hasTag(tag));
}
```

### 2. 사용 제한
```javascript
// 쿨다운 시스템
const cooldowns = new Map();

function checkCooldown(playerId) {
    const lastUse = cooldowns.get(playerId) || 0;
    const now = Date.now();
    const cooldownTime = 5000; // 5초
    
    return (now - lastUse) >= cooldownTime;
}
```

### 3. 로그 기록
```javascript
// 이동 로그 저장
function logTeleport(player, destination) {
    console.log(`${player.name} teleported to ${destination.name}`);
}
```

## 관련 튜토리얼

- [스크립트 API 기초]
- [UI 시스템 제작]
- [이벤트 처리 방법]
- [행동 팩 배포]

## 태그
#마인크래프트 #베드락에디션 #스크립트API #순간이동 #아이템제작 #UI시스템 #개발 #중급 #편의기능 #스티브코딩
---
title: "채팅창에 시간을 쓰면 동작하는 타이머 시작! #애드온제작"
date: "2025-01-20"
thumbnail: "https://i.ytimg.com/vi/UhK_vpMzw7I/hqdefault.jpg"
tags: ["초급", "베드락", "스크립트API", "소스코드", "설계자", "롱폼"]
url: "https://www.youtube.com/watch?v=UhK_vpMzw7I"
duration: "5분 27초"
series: "스크립트 API 기초"
episode: "타이머 애드온 제작"
difficulty: "초급"
---

# 채팅창에 시간을 쓰면 동작하는 타이머 시작! #애드온제작

<div align="center">
<img src="https://i.ytimg.com/vi/UhK_vpMzw7I/hqdefault.jpg" alt="썸네일" width="600"/>
</div>

## 목차
- [소개](#소개)
- [주요 기능](#주요-기능)
- [타이머 사용법](#타이머-사용법)
- [코드 분석](#코드-분석)
- [핵심 개념](#핵심-개념)
- [자주 묻는 질문](#자주-묻는-질문)
- [추가 리소스](#추가-리소스)

## 소개

이 영상은 마인크래프트 베드락 에디션에서 스크립트 API를 활용하여 채팅창에 시간을 입력하면 자동으로 카운트다운을 시작하는 타이머 애드온 제작 방법을 설명합니다. 플레이어가 직접 시간을 설정할 수 있으며, 실시간으로 화면에 남은 시간을 표시하고, 시간이 끝나면 알림을 보여주는 완성도 높은 타이머 시스템입니다.

## 주요 기능

### 1. 채팅창 명령어 인식
- 플레이어가 "카운트다운 [숫자]" 형태로 입력
- 숫자는 초 단위로 해석됨
- 띄어쓰기나 문자 입력 시 오류 메시지 출력

### 2. 실시간 카운트다운 표시
- 액션바(화면 하단)에 남은 시간 실시간 표시
- 1초 간격으로 자동 감소
- 타이틀 메시지로 시작/종료 알림

### 3. 타이머 제어 기능
- "정지" 명령어로 카운트다운 중단 가능
- 정지 후 재시작 가능
- 유연한 타이머 관리

### 4. 입력 검증 시스템
- 문자 입력 시 "숫자를 입력해 주세요" 안내
- 잘못된 형식 입력에 대한 에러 처리
- 사용자 친화적인 피드백 제공

## 타이머 사용법

### 기본 사용법
1. **타이머 시작**: 채팅창에 `카운트다운 [초]` 입력
   - 예: `카운트다운 10` (10초 타이머 시작)
   - 예: `카운트다운 60` (1분 타이머 시작)

2. **타이머 정지**: 채팅창에 `정지` 입력
   - 진행 중인 카운트다운 즉시 중단

3. **타이머 재시작**: 정지 후 다시 `카운트다운 [초]` 입력

### 주의사항
- 명령어에 띄어쓰기 포함 시 인식되지 않음
- 숫자만 입력 가능 (문자 입력 시 오류)
- 정확한 형식으로 입력 필요

## 코드 분석

### 핵심 변수 선언
```javascript
let time = 0;      // 카운트다운 시간(초)
let countingIs = false;  // 카운팅 상태 플래그
```

### 메시지 처리 이벤트
```javascript
// 플레이어 채팅 메시지 감지
world.beforeEvents.chatSend.subscribe((eventData) => {
    const player = eventData.sender;
    const message = eventData.message;
    
    // "카운트다운" 명령어 처리
    if (message.includes("카운트다운")) {
        // 메시지 정제 및 숫자 검증
        const timeInput = message.trim().split(" ")[1];
        
        if (isNaN(timeInput)) {
            player.sendMessage("카운트다운 뒤에는 숫자를 입력해 주세요");
            return;
        }
        
        time = Number(timeInput);
        countingIs = true;
        // 타이머 시작 메시지 표시
    }
    
    // "정지" 명령어 처리
    if (message.includes("정지")) {
        countingIs = false;
    }
});
```

### 타이머 실행 함수
```javascript
function countdownTimer() {
    // 카운팅 중이고 시간이 남아있을 때
    if (countingIs && time > 0) {
        time--;  // 1초 감소
        // 액션바에 남은 시간 표시
        world.sendMessage(`§a남은 시간: ${time}초`, {
            type: "actionbar"
        });
    }
    // 시간 종료 시
    else if (time === 0 && countingIs) {
        countingIs = false;
        // 종료 메시지 표시
        world.sendMessage("§c시간 종료!", {
            type: "title"
        });
    }
}
```

### 인터벌 설정
```javascript
// 20틱(1초)마다 함수 실행
system.runInterval(countdownTimer, 20);
```

## 핵심 개념

### 1. System.runInterval()
- **용도**: 지정된 주기로 함수를 반복 실행
- **매개변수**: 실행할 함수, 실행 주기(틱 단위)
- **활용**: 실시간 업데이트가 필요한 기능에 필수

### 2. 이벤트 리스너 (Event Listener)
- **beforeEvents.chatSend**: 플레이어 채팅 메시지 감지
- **실시간 반응**: 채팅창 입력 즉시 처리
- **데이터 접근**: 메시지 내용, 발신자 정보 등

### 3. 상태 관리 (State Management)
- **countingIs 변수**: 타이머 작동 상태 추적
- **time 변수**: 현재 남은 시간 저장
- **조건부 실행**: 상태에 따른 동작 분기

### 4. 문자열 처리
- **trim()**: 앞뒤 공백 제거
- **split()**: 문자열 분할
- **isNaN()**: 숫자 여부 검증
- **Number()**: 문자열을 숫자로 변환

### 5. 사용자 인터페이스
- **액션바**: 화면 하단 실시간 정보 표시
- **타이틀 메시지**: 화면 중앙 중요 알림 표시
- **채팅 메시지**: 시스템 피드백 제공

## 자주 묻는 질문

**Q: "카운트다운 10분"처럼 분 단위로 입력할 수 있나요?**
A: 현재 버전은 초 단위만 지원합니다. 600초(10분)처럼 초로 환산하여 입력해주세요. 분 단위 지원은 추가 코드 수정이 필요합니다.

**Q: 여러 명이 동시에 타이머를 사용할 수 있나요?**
A: 현재는 전역 변수를 사용하므로 하나의 타이머만 작동합니다. 개별 타이머를 원한다면 플레이어별 상태 관리가 필요합니다.

**Q: 타이머가 끝났을 때 소리나 다른 효과를 추가할 수 있나요?**
A: 네, 가능합니다. `time === 0` 조건에서 `playSound()` 함수나 파티클 효과를 추가하면 됩니다.

**Q: 음수나 매우 큰 숫자를 입력하면 어떻게 되나요?**
A: 현재는 기본적인 숫자 검증만 있습니다. 범위 검증을 추가하여 적절한 범위(예: 1-3600초)만 허용하도록 개선할 수 있습니다.

**Q: 타이머 중간에 시간을 추가하거나 뺄 수 있나요?**
A: 현재 버전에는 없는 기능입니다. "추가" 또는 "감소" 명령어를 구현하여 기능을 확장할 수 있습니다.

## 추가 리소스

### 관련 영상
- [스크립트 API 시작하기](https://youtu.be/zBVdaQ0AXOY)
- [GitHub 소스코드](https://github.com/ssakspirit/scriptAPI/blob/main/timer.js)

### 확장 아이디어
- **알람 시스템**: 설정한 시간에 알림 전송
- **다중 타이머**: 플레이어별 개별 타이머 관리
- **타이머 히스토리**: 이전 타이머 기록 저장
- **시각적 효과**: 시간 종료 시 파티클 효과 추가
- **음성 알림**: 종료 시 사운드 재생

### 학습 포인트
- 스크립트 API 기초 문법 이해
- 이벤트 기반 프로그래밍 개념
- 실시간 상태 관리 방법
- 사용자 입력 검증 기법
- 게임 내 UI 요소 활용법

## 이런 분들에게 추천합니다

- 스크립트 API를 처음 배우는 초보자
- 실용적인 애드온 제작 방법을 알고 싶은 사람
- 채팅 명령어 시스템에 관심 있는 개발자
- 타이머나 알람 기능이 필요한 서버 관리자
- 마인크래프트 베드락 애드온 개발에 입문하고 싶은 학습자

## 핵심 메시지

> "간단한 타이머 하나에도 이벤트 처리, 상태 관리, 
> 사용자 인터페이스 등 프로그래밍의 핵심 개념들이 
> 모두 담겨 있습니다."

이 프로젝트를 통해 스크립트 API의 기본기를 탄탄히 다지고, 더 복잡한 애드온 제작의 기초를 마련할 수 있습니다.

## 태그
#마인크래프트 #스크립트API #애드온제작 #타이머 #베드락에디션 #자바스크립트 #프로그래밍 #스티브코딩 #초보자용 #실시간처리
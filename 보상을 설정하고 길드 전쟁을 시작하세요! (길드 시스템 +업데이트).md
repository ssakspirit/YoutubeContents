---
title: "보상을 설정하고 길드 전쟁을 시작하세요! (길드 시스템 +업데이트)"
date: "2025-04-25"
thumbnail: "https://i.ytimg.com/vi/dyfLch_5gD4/hqdefault.jpg"
tags: ["중급", "베드락", "스크립트API", "소스코드", "설계자", "롱폼"]
url: "https://youtu.be/dyfLch_5gD4?si=k2C1HwUspgevVze7"
duration: "1:53"
series: "마인크래프트 스크립트 API"
difficulty: "중급"
---

# 보상을 설정하고 길드 전쟁을 시작하세요! (길드 시스템 +업데이트)

<div align="center">
<img src="https://i.ytimg.com/vi/dyfLch_5gD4/hqdefault.jpg" alt="썸네일" width="600"/>
</div>

## 목차
- [소개](#소개)
- [주요 내용](#주요-내용)
- [실습 과정](#실습-과정)
- [자주 묻는 질문](#자주-묻는-질문)
- [추가 리소스](#추가-리소스)

## 소개
이 영상은 기존에 소개된 마인크래프트 베드락 에디션의 길드 시스템에 새롭게 추가된 '길드 전쟁' 기능을 소개합니다. 스크립트 API를 활용하여 구현된 이 시스템은 서버 내에서 플레이어들이 길드를 만들고, 다른 길드와 전투를 벌이며, 승리에 따른 보상을 받을 수 있는 기능을 제공합니다. 특히 같은 길드 멤버끼리는 공격이 불가능하도록 하는 등의 업데이트가 추가되었습니다.

## 주요 내용

### 1. 길드 시스템 기본 기능
- 길드 생성, 가입, 탈퇴 기능
- 길드장의 가입 요청 관리
- 같은 길드원 간의 공격 방지 기능 (업데이트)
- 최대 20개까지 길드 생성 가능

### 2. 길드 전쟁 시스템 (신규 추가)
- 서버 관리자의 길드 전쟁 선포 기능
- 목표 킬수 및 보상 설정 기능
- 실시간 스코어보드를 통한 킬수 표시
- 목표 달성 시 자동 종료 및 보상 지급
- 강제 종료 시 보상 없이 최종 순위만 표시

### 3. 기술적 구현 방식
- 스크립트 API를 활용한 전체 시스템 구현
- 스코어보드와 동적속성(Dynamic Property)을 통한 이중 데이터 관리
- 관리자 권한 체계 도입
- 플레이어 JSON 파일을 통한 상호작용 제어

## 실습 과정

1. **길드 시스템 기본 사용법 (00:00-00:30)**
   - 길드 생성 명령어: `!길드 길드생성 [길드명]`
   - 길드 가입 신청 방법
   - 길드장의 가입 요청 관리 방법
   - 같은 길드원 간 공격 제한 확인

2. **길드 간 상호작용 테스트 (00:31-01:00)**
   - 길드 탈퇴 및 새 길드 생성
   - 서로 다른 길드원 간 공격 가능 확인
   - 길드 전쟁 선포 및 설정 방법

3. **길드 전쟁 기능 시연 (01:01-01:30)**
   - 목표 킬수 및 보상 설정
   - 스코어보드를 통한 킬수 확인
   - 목표 달성 시 승리 알림 및 보상 지급

4. **기능 설명 및 업데이트 내용 (01:31-끝)**
   - 킬 수 데이터 저장 방식 설명
   - 관리자 권한 시스템 설명
   - 길드 전쟁 강제 종료 시 결과 처리 방식

## 자주 묻는 질문

**Q: 길드 시스템을 적용하려면 어떻게 해야 하나요?**
A: 영상 설명란에 있는 GitHub 링크에서 guildManager.js 코드를 복사하여 브릿지(Bridge) 프로그램으로 애드온을 만들고, player.json 파일을 entities 폴더에 추가해야 합니다. 또한 브릿지 프로젝트 파일도 다운로드 가능합니다.

**Q: 길드 전쟁 기능은 누가 시작할 수 있나요?**
A: 길드 전쟁은 어드민(admin) 태그가 있는 서버 관리자만 시작할 수 있습니다. 일반 플레이어는 길드 생성, 가입, 탈퇴 등의 기본 기능만 사용 가능합니다.

**Q: 길드 시스템에 몇 개까지 길드를 만들 수 있나요?**
A: 이번 업데이트에서는 최대 20개까지 길드를 생성할 수 있습니다.

**Q: 길드 전쟁에서 보상은 어떻게 설정하나요?**
A: 관리자가 길드 전쟁 설정 기능을 통해 목표 킬수와 함께 보상 아이템을 지정할 수 있습니다. 승리한 길드의 모든 길드원에게 보상이 지급됩니다.

## 추가 리소스
- [길드 시스템 이전 영상](https://www.youtube.com/watch?v=ptWIJbiqj9w)
- [GitHub 코드 저장소](https://github.com/ssakspirit/scriptAPI/blob/main/guildManager.js)
- [플레이어 JSON 파일](https://github.com/ssakspirit/scriptAPI/blob/main/player.json)
- [팀킬 방지 관련 영상](https://www.youtube.com/watch?v=5OhlCyzCanc)
- [애드온 다운로드 링크](https://o365cbe-my.sharepoint.com/:u:/g/personal/ssakspirit_o365cbe_net/EUxxulm6tLtImrQ2w66ySWYBL3Ywi20QjhTjMZYt8nyzTQ?e=wipLuB)
- [브릿지 프로젝트 파일](https://o365cbe-my.sharepoint.com/:u:/g/personal/ssakspirit_o365cbe_net/ESg8HXOrG6hOgxglm9DiV6kBOFF_pcK79Xn9oLjmJXEUqw?e=uBEnSW)
- [브릿지 가이드 영상](https://youtu.be/L2s8-w8HXIk?si=aWJONVaLN0kngFtg)
- [베드락 공식 문서](https://learn.microsoft.com/ko-kr/minecraft/creator/scriptapi/minecraft/server/minecraft-server)
- [스크립트 API 시작하기 영상](https://youtu.be/zBVdaQ0AXOY)

## 이런 분들에게 추천합니다
- 마인크래프트 베드락 에디션에서 서버를 운영하는 관리자
- 길드 시스템을 서버에 추가하고 싶은 서버 운영자
- 스크립트 API를 활용한 애드온 제작에 관심 있는 개발자
- PvP 콘텐츠를 강화하고 싶은 서버 운영자
- 길드 간 경쟁 및 보상 시스템을 구현하고 싶은 개발자

## 관련 튜토리얼
- 서버에 입장, 재입장하는 플레이어에게 맞춤 메시지 보내기
- 서버에서 필수! 길드 시스템 구현
- 스코어보드 돈 벌기 시스템 구현하기!
- 스크립트 API로 본격적으로 애드온 제작하기
- 우리 편은 못 때린다. 팀킬 금지

## 실습 코드
```javascript
// 길드 전쟁 시작 기능 코드 (guildManager.js에서 일부 발췌)
function startGuildWar(player, targetKills, reward) {
    if (!player.hasTag("admin")) {
        player.sendMessage("§c관리자만 길드 전쟁을 시작할 수 있습니다.");
        return;
    }
    
    // 길드 전쟁 상태 설정
    world.setDynamicProperty("guildWarActive", true);
    world.setDynamicProperty("guildWarTargetKills", targetKills);
    world.setDynamicProperty("guildWarReward", reward);
    
    // 스코어보드 생성 및 초기화
    const objective = world.scoreboard.getObjective("guildWarKills") || 
                      world.scoreboard.addObjective("guildWarKills", "길드 전쟁 킬 수");
    
    // 모든 플레이어에게 알림
    world.getAllPlayers().forEach(p => {
        p.sendMessage(`§a길드 전쟁이 시작되었습니다! 목표 킬 수: ${targetKills}, 보상: ${reward}`);
    });
    
    // 사이드바에 스코어보드 표시
    objective.setDisplay("sidebar");
}

// 길드 전쟁 킬 추적 이벤트 핸들러
world.events.entityHurt.subscribe((event) => {
    if (!world.getDynamicProperty("guildWarActive")) return;
    
    const victim = event.hurtEntity;
    const attacker = event.damageSource.damagingEntity;
    
    if (victim.id !== "minecraft:player" || attacker.id !== "minecraft:player") return;
    
    // 플레이어가 사망했는지 확인
    if (victim.getComponent("minecraft:health").current <= 0) {
        const attackerGuild = attacker.getDynamicProperty("guild");
        if (!attackerGuild) return;
        
        // 킬 수 업데이트 - 스코어보드와 동적속성 모두 사용
        const objective = world.scoreboard.getObjective("guildWarKills");
        let score = objective.getScore(attackerGuild) || 0;
        objective.setScore(attackerGuild, score + 1);
        
        // 동적 속성도 업데이트
        let guildScore = world.getDynamicProperty(`guildWarScore_${attackerGuild}`) || 0;
        world.setDynamicProperty(`guildWarScore_${attackerGuild}`, guildScore + 1);
        
        // 목표 킬 수 달성 확인
        const targetKills = world.getDynamicProperty("guildWarTargetKills");
        if (score + 1 >= targetKills) {
            endGuildWar(attackerGuild);
        }
    }
});

// 팀킬 방지 기능
world.events.beforeEntityHurt.subscribe((event) => {
    const victim = event.hurtEntity;
    const attacker = event.damageSource.damagingEntity;
    
    if (victim.id !== "minecraft:player" || attacker.id !== "minecraft:player") return;
    
    const victimGuild = victim.getDynamicProperty("guild");
    const attackerGuild = attacker.getDynamicProperty("guild");
    
    // 같은 길드원 간의 공격 방지
    if (victimGuild && attackerGuild && victimGuild === attackerGuild) {
        event.cancel = true;
        attacker.sendMessage("§c같은 길드원을 공격할 수 없습니다!");
    }
});
```

## 태그
#마인크래프트 #베드락 #길드시스템 #길드전쟁 #스크립트API #애드온제작 #서버관리 #PVP #팀전투 #보상시스템

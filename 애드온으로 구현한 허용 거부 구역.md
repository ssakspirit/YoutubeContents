---
title: "애드온으로 구현한 허용 거부 구역"
date: "2025-04-26"
thumbnail: "https://i.ytimg.com/vi/H9DoQttE5_I/hqdefault.jpg"
tags: ["중급", "베드락", "스크립트API", "소스코드", "설계자", "롱폼"]
url: "https://www.youtube.com/watch?v=H9DoQttE5_I"
duration: "3:49"
series: "스크립트 API 튜토리얼"
episode: null
difficulty: "중급"
---

# 애드온으로 구현한 허용 거부 구역

<div align="center">
<img src="https://i.ytimg.com/vi/H9DoQttE5_I/hqdefault.jpg" alt="썸네일" width="600"/>
</div>

## 목차
- [소개](#소개)
- [주요 내용](#주요-내용)
- [실습 과정](#실습-과정)
- [자주 묻는 질문](#자주-묻는-질문)
- [추가 리소스](#추가-리소스)

## 소개
이 영상은 마인크래프트 베드락 에디션에서 스크립트 API를 활용하여 특정 구역 내에서만 블록 설치와 파괴를 허용하거나 금지하는 시스템을 구현하는 방법을 보여줍니다. 사용자가 지정한 좌표 범위를 기준으로 플레이어가 블록을 놓거나 부술 수 있는 영역을 제한함으로써, 서버나 월드에서 특정 구역을 보호하거나 빌드 영역을 제한할 수 있습니다. 이 기능은 교육용 환경이나 멀티플레이어 서버에서 특히 유용하게 활용될 수 있습니다.

## 주요 내용

### 1. 허용 구역 시스템 개요
- 지정된 좌표 범위 내에서만 블록 설치/파괴 허용
- 범위 밖에서는 블록 설치/파괴 금지
- 운영자(OP) 권한 예외 처리
- 구역 접근 시 사용자 피드백 제공

### 2. 스크립트 API 이벤트 처리
- BlockBreakEvent (블록 파괴 이벤트) 구독 및 처리
- BlockPlaceEvent (블록 설치 이벤트) 구독 및 처리
- 플레이어 권한 확인 로직 구현
- 이벤트 취소(Cancel) 메커니즘 활용

### 3. 좌표 기반 범위 체크 로직
- X, Y, Z 좌표별 범위 체크 방식
- 좌표 비교를 통한 허용/거부 판단
- 부울(Boolean) 값 활용한 조건 처리
- 허용/거부 영역 반전 구현 방법

### 4. 기존 마인크래프트 기능과의 비교
- 허용 블록/거부 블록과의 차이점
- 좌표 기반 시스템의 장점
- 보다 세밀한 구역 제어 방법

## 실습 과정

1. **허용 구역 시스템 테스트 (00:00-00:50)**
   - 허용된 영역 내에서 블록 설치/파괴 기능 확인
   - 허용 영역 밖에서 블록 설치/파괴 시도 및 차단 확인
   - 좌표 기반 허용 영역의 경계 확인
   - 블록 조작 금지 시 사용자 피드백 확인

2. **허용 구역 스크립트 구현 원리 (00:50-02:10)**
   - 블록 파괴 이벤트 리스너 설정 방법
   - 좌표 범위 체크 로직 설명
   - 운영자 권한 확인 절차
   - 이벤트 취소 및 메시지 표시 처리

3. **거부 구역 시스템 구현 (02:10-03:15)**
   - 허용 구역과 반대로 작동하는 거부 구역 구현
   - 코드 수정 포인트 설명
   - 좌표 조건 반전 로직
   - 허용/거부 구역 전환 방법

4. **기존 마인크래프트 기능과 비교 (03:15-03:49)**
   - 기본 허용 블록/거부 블록과의 차이점
   - 좌표 기반 시스템의 장점 설명
   - 적용 사례 및 활용 방안
   - 구현 선택에 대한 안내

## 자주 묻는 질문

**Q: 이 시스템을 구현하기 위해 필요한 기술적 지식 수준은 어느 정도인가요?**
A: 마인크래프트 베드락 에디션의 스크립트 API에 대한 기본적인 이해와 JavaScript 프로그래밍 지식이 필요합니다. 이벤트 리스너, 조건문, 변수 활용 등 프로그래밍의 기본 개념을 알고 있으면 따라 할 수 있는 중급 수준의 프로젝트입니다.

**Q: 여러 개의 허용/거부 구역을 설정할 수 있나요?**
A: 네, 스크립트를 확장하여 여러 개의 허용/거부 구역을 배열로 관리하면 월드 내 여러 영역에 대한 접근 제어가 가능합니다. 각 구역별로 좌표 범위와 허용/거부 설정을 관리할 수 있습니다.

**Q: 운영자가 아닌 특정 플레이어나 그룹에게 예외 권한을 줄 수 있나요?**
A: 스크립트를 수정하여 플레이어 이름이나 역할(role) 기반으로 예외 처리 로직을 추가할 수 있습니다. 기본 스크립트는 운영자만 예외로 처리하지만, 플레이어 ID나 태그를 활용하여 더 세밀한 권한 관리가 가능합니다.

**Q: 이 시스템이 서버 성능에 미치는 영향은 어느 정도인가요?**
A: 이벤트 리스너 기반으로 작동하기 때문에 일반적인 상황에서는 성능 영향이 미미합니다. 다만 매우 많은 플레이어가 동시에 블록 조작을 시도하는 경우 약간의 부하가 발생할 수 있으나, 대부분의 서버 환경에서 문제없이 작동합니다.

## 추가 리소스

- [마인크래프트 베드락 에디션 스크립트 API 문서](https://docs.microsoft.com/ko-kr/minecraft/creator/scriptapi/)
- [마인크래프트 베드락 에디션 이벤트 리스트](https://docs.microsoft.com/ko-kr/minecraft/creator/scriptapi/minecraft/server/events)
- [스크립트 API 시작하기 튜토리얼](https://youtu.be/zBVdaQ0AXOY)
- [마인크래프트 허용/거부 블록 공식 가이드](https://minecraft.fandom.com/wiki/Allow_and_Deny)
- [스티브 코딩 페이스북 페이지](https://www.facebook.com/stvcoding/)

## 이런 분들에게 추천합니다

- 마인크래프트 서버 관리자 및 운영자
- 교육 환경에서 학생들의 건축 영역을 제한하고 싶은 교사
- 멀티플레이어 월드에서 중요 구역을 보호하고 싶은 월드 제작자
- 스크립트 API를 활용한 게임 기능 확장에 관심 있는 개발자
- 마인크래프트 에듀케이션 에디션에서 학습 환경을 구조화하고 싶은 교육자

## 관련 튜토리얼

- [스크립트 API로 본격적으로 애드온 제작하기](https://youtu.be/zBVdaQ0AXOY)
- [스크립트 API의 첫걸음, 채팅명령어 만들기](https://youtu.be/xb9Ke_HShU0)
- [블록을 부수는 이벤트 확인하기](https://youtu.be/mQD4cMe_QaQ)
- [애드온 제작을 한다면 꼭 필요한 몇 가지!](https://youtu.be/7AZUk_p9LkQ)
- [사용자 인터페이스(UI) 제작하기](https://youtu.be/RnO28hLVPVo)

## 실습 코드

```javascript
// 허용 구역 스크립트 코드 (allow_zone.js)
import { world, BlockBreakEvent, BlockPlaceEvent } from "@minecraft/server";

// 허용 구역 좌표 설정 (시작점과 끝점)
const allowedZone = {
  start: { x: -10, y: 0, z: -10 },
  end: { x: 10, y: 100, z: 10 }
};

// 블록 파괴 이벤트 리스너
world.beforeEvents.blockBreak.subscribe(event => {
  const player = event.player;
  const blockLoc = event.block.location;
  
  // 좌표가 허용 구역 내에 있는지 확인
  const allowed = 
    blockLoc.x >= allowedZone.start.x && blockLoc.x <= allowedZone.end.x &&
    blockLoc.y >= allowedZone.start.y && blockLoc.y <= allowedZone.end.y &&
    blockLoc.z >= allowedZone.start.z && blockLoc.z <= allowedZone.end.z;
  
  // 허용 구역 밖이고 운영자가 아니면 이벤트 취소
  if (!allowed && !player.isOp()) {
    event.cancel = true;
    player.sendMessage("§c이 구역에서는 블록을 부술 수 없습니다!");
  }
});

// 블록 설치 이벤트 리스너
world.beforeEvents.blockPlace.subscribe(event => {
  const player = event.player;
  const blockLoc = event.block.location;
  
  // 좌표가 허용 구역 내에 있는지 확인
  const allowed = 
    blockLoc.x >= allowedZone.start.x && blockLoc.x <= allowedZone.end.x &&
    blockLoc.y >= allowedZone.start.y && blockLoc.y <= allowedZone.end.y &&
    blockLoc.z >= allowedZone.start.z && blockLoc.z <= allowedZone.end.z;
  
  // 허용 구역 밖이고 운영자가 아니면 이벤트 취소
  if (!allowed && !player.isOp()) {
    event.cancel = true;
    player.sendMessage("§c이 구역에서는 블록을 설치할 수 없습니다!");
  }
});

// 거부 구역 코드 (restricted_zone.js)
// 위 코드에서 조건만 반전
// const restricted = 
//   blockLoc.x >= restrictedZone.start.x && blockLoc.x <= restrictedZone.end.x &&
//   blockLoc.y >= restrictedZone.start.y && blockLoc.y <= restrictedZone.end.y &&
//   blockLoc.z >= restrictedZone.start.z && blockLoc.z <= restrictedZone.end.z;
// 
// if (restricted && !player.isOp()) {
//   event.cancel = true;
//   player.sendMessage("§c이 구역에서는 블록을 설치/파괴할 수 없습니다!");
// }
```

## 태그
#마인크래프트 #베드락 #스크립트API #허용구역 #거부구역 #애드온제작 #월드관리 #서버관리 #이벤트처리 #좌표시스템 #교육용마인크래프트

---
title: "특정 몹을 잡으면 특별한 보상을 받습니다"
date: "2025-04-29"
thumbnail: "https://i.ytimg.com/vi/8Ge3a5CLcYM/hqdefault.jpg"
tags: ["중급", "베드락", "스크립트API", "소스코드", "설계자", "롱폼"]
url: "https://youtu.be/8Ge3a5CLcYM?si=jiUGPsdTVqUThmIn"
duration: "1:52"
series: "스크립트 API 튜토리얼"
difficulty: "중급"
---

# 특정 몹을 잡으면 특별한 보상을 받습니다

<div align="center">
<img src="https://i.ytimg.com/vi/8Ge3a5CLcYM/hqdefault.jpg" alt="썸네일" width="600"/>
</div>

## 목차
- [소개](#소개)
- [주요 내용](#주요-내용)
- [실습 과정](#실습-과정)
- [자주 묻는 질문](#자주-묻는-질문)
- [추가 리소스](#추가-리소스)

## 소개
이 영상은 마인크래프트 베드락 에디션에서 스크립트 API를 활용하여 특정 몹을 처치했을 때 확률에 따라 다양한 보상을 지급하는 시스템을 구현하는 방법을 설명합니다. 좀비, 스켈레톤 등 다양한 몹에 대해 서로 다른 확률로 아이템을 획득할 수 있도록 하는 코드를 작성하고 적용하는 과정을 보여줍니다.

## 주요 내용

### 1. 몹별 보상 시스템 설계
- 몹마다 다른 보상 아이템 설정
- 아이템별 획득 확률 설정
- 여러 아이템을 동시에 획득할 수 있는 시스템

### 2. 스크립트 API 이벤트 활용
- entityDie 이벤트 구독으로 몹 사망 감지
- 플레이어가 몹을 처치했는지 확인하는 조건 추가
- 몹 종류에 따른 보상 목록 불러오기

### 3. 확률 기반 보상 시스템 구현
- 랜덤 함수를 활용한 확률 계산
- 아이템 지급 메커니즘 구현
- 채팅 알림 기능 추가

## 실습 과정

1. **시스템 시연 및 기능 설명 (00:00-00:35)**
   - 좀비를 처치하면 썩은 고기 등의 아이템 획득
   - 일정 확률로 철괴 등 특별 아이템 획득
   - 스켈레톤을 처치하면 에메랄드, 다이아몬드 등 획득

2. **코드 구조 설명 (00:36-01:00)**
   - 몹별 보상 정보 설정 방법
   - 확률 설정 방법(백분율 사용)
   - 채팅창에 보여줄 한글 메시지 설정

3. **핵심 코드 설명 (01:01-01:40)**
   - entityDie 이벤트 설명
   - 죽은 엔티티와 플레이어 정보 활용
   - reward 함수를 통한 보상 지급 메커니즘
   - 확률 계산 로직 설명

4. **활용 방안 제시 (01:41-끝)**
   - 다양한 게임에서의 응용 가능성 언급

## 자주 묻는 질문

**Q: 스크립트 API를 사용하려면 어떤 준비가 필요한가요?**
A: 스크립트 API를 사용하려면 먼저 브릿지(Bridge) 프로그램을 통해 행동 팩을 만들고, JavaScript로 코드를 작성해야 합니다. 기본적인 설정 방법은 영상 설명란에 링크된 "스크립트 API 시작하기" 영상을 참고하세요.

**Q: 모든 몹에 보상을 설정할 수 있나요?**
A: 네, 마인크래프트에 존재하는 모든 몹에 대해 보상을 설정할 수 있습니다. 코드 예시처럼 몹의 ID를 사용하여 보상 정보를 등록하면 됩니다.

**Q: 확률 설정은 어떻게 하나요?**
A: 코드에서 각 아이템 정보에 확률을 백분율로 설정할 수 있습니다. 예를 들어, `{item: "minecraft:diamond", count: 1, chance: 50}` 형식으로 작성하면 50%의 확률로 다이아몬드 1개를 획득할 수 있습니다.

**Q: 여러 아이템이 동시에 나올 수 있나요?**
A: 네, 코드 구성에 따라 하나의 몹을 처치했을 때 여러 종류의 아이템을 동시에 받을 수 있습니다. 각 아이템은 독립적으로 확률 계산을 하기 때문입니다.

**Q: 채팅 메시지를 변경하려면 어떻게 해야 하나요?**
A: 코드 내 `itemNameMap` 객체를 수정하여 아이템에 대한 한글 이름을 추가하거나 변경할 수 있습니다. 이를 통해 채팅창에 표시되는 메시지를 원하는 대로 설정할 수 있습니다.

## 추가 리소스
- [스크립트 API 시작하기 영상](https://youtu.be/zBVdaQ0AXOY)
- [소스코드 GitHub 링크](https://github.com/ssakspirit/scriptAPI/blob/main/mobReword.js)
- [브릿지 가이드 영상](https://youtu.be/L2s8-w8HXIk?si=aWJONVaLN0kngFtg)
- [베드락 공식 문서](https://learn.microsoft.com/ko-kr/minecraft/creator/scriptapi/minecraft/server/minecraft-server)
- [스티브코딩 페이스북 페이지](https://www.facebook.com/stvcoding/)

## 이런 분들에게 추천합니다
- 마인크래프트 서버나 렐름에 특별한 게임 시스템을 추가하고 싶은 분
- 스크립트 API를 활용해 게임 메커니즘을 수정하고 싶은 분
- JavaScript를 활용한 마인크래프트 커스터마이징에 관심 있는 분
- RPG형 서버를 운영하거나 제작하려는 분
- 몹 처치 시 더 다양한 보상 시스템을 원하는 분

## 관련 튜토리얼
- [스크립트 API의 첫걸음, 채팅명령어 만들기]
- [스크립트 API로 본격적으로 애드온 제작하기]
- [나만의 보상을 만들자! 루트테이블 사용 방법]
- [아이템 배경 설명(lore) 정하기]
- [스크립트 API의 이벤트 시스템 활용하기]

## 실습 코드
```javascript
import { world, system, ItemStack } from '@minecraft/server';

// 몹별 보상 정보 설정
const mobRewards = {
    "minecraft:zombie": [
        { item: "minecraft:rotten_flesh", count: 2, chance: 100 },
        { item: "minecraft:iron_ingot", count: 1, chance: 30 }
    ],
    "minecraft:skeleton": [
        { item: "minecraft:bone", count: 2, chance: 100 },
        { item: "minecraft:arrow", count: 5, chance: 50 },
        { item: "minecraft:emerald", count: 1, chance: 20 },
        { item: "minecraft:diamond", count: 1, chance: 10 }
    ]
    // 여기에 더 많은 몹 추가 가능
};

// 아이템 이름 한글화 맵핑
const itemNameMap = {
    "minecraft:rotten_flesh": "썩은 고기",
    "minecraft:iron_ingot": "철괴",
    "minecraft:bone": "뼈",
    "minecraft:arrow": "화살",
    "minecraft:emerald": "에메랄드",
    "minecraft:diamond": "다이아몬드"
    // 여기에 더 많은 아이템 추가 가능
};

// 보상 지급 함수
function giveReward(player, rewardList) {
    for (const reward of rewardList) {
        // 확률 계산
        const roll = Math.random() * 100;
        if (roll <= reward.chance) {
            // 아이템 생성 및 지급
            const item = new ItemStack(reward.item, reward.count);
            player.getComponent("minecraft:inventory").container.addItem(item);
            
            // 채팅 메시지 표시
            const itemName = itemNameMap[reward.item] || reward.item;
            player.sendMessage(`§a${itemName} ${reward.count}개를 받았습니다!`);
        }
    }
}

// 몹 사망 이벤트 구독
world.afterEvents.entityDie.subscribe((event) => {
    const deadEntity = event.deadEntity;
    const killer = event.damageSource.damagingEntity;
    
    // 플레이어가 몹을 죽였는지 확인
    if (killer && killer.typeId === "minecraft:player") {
        // 해당 몹의 보상 정보 가져오기
        const rewards = mobRewards[deadEntity.typeId];
        if (rewards) {
            giveReward(killer, rewards);
        }
    }
});
```

## 태그
`#마인크래프트` `#스크립트API` `#몹보상` `#베드락` `#스티브코딩` `#자바스크립트` `#애드온제작`
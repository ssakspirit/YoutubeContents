---
title: "블록을 부수면 랜덤 아이템을 받는다! 가챠 블록"
date: "2025-04-25"
thumbnail: "https://i.ytimg.com/vi/w4C9kCY7lng/hqdefault.jpg"
tags: ["고급", "베드락", "스크립트API", "소스코드", "설계자", "롱폼"]
url: "https://youtu.be/w4C9kCY7lng"
duration: "4:46"
series: "애드온 제작 튜토리얼"
difficulty: "고급"
---

# 블록을 부수면 랜덤 아이템을 받는다! 가챠 블록

<div align="center">
<img src="https://i.ytimg.com/vi/w4C9kCY7lng/hqdefault.jpg" alt="썸네일" width="600"/>
</div>

## 목차
- [소개](#소개)
- [주요 내용](#주요-내용)
- [실습 과정](#실습-과정)
- [자주 묻는 질문](#자주-묻는-질문)
- [추가 리소스](#추가-리소스)

## 소개
이 영상은 마인크래프트 베드락 에디션에서 스크립트 API를 활용하여 블록을 부술 때 랜덤으로 아이템을 얻을 수 있는 '가챠 블록'을 만드는 방법을 설명합니다. 플레이어가 특정 블록을 부수면 설정된 확률에 따라 다양한 보상 아이템을 얻을 수 있어, 서버나 미니게임에서 재미있는 요소로 활용할 수 있습니다.

## 주요 내용

### 1. 가챠 블록 제작 개요
- 스크립트 API를 활용한 커스텀 블록 생성
- 블록 부수기 이벤트와 랜덤 아이템 보상 시스템 연결
- 여러 등급의 가챠 블록 제작 방법(일반, 희귀 등)

### 2. 보상 시스템 설계
- 확률 기반 아이템 드롭 시스템 구현
- 여러 종류의 아이템과 수량을 다양한 확률로 설정
- 랜덤 정수 생성 함수를 통한 확률 계산

### 3. 코드 구성 및 수정
- 브릿지 에디터를 활용한 애드온 개발
- 메인 스크립트 파일의 구조와 수정 방법
- 블록 ID와 보상 설정을 위한 코드 수정법

## 실습 과정

1. **프로젝트 설정 및 기본 블록 생성 (00:00-01:30)**
   - 브릿지에서 새 프로젝트 생성 및 실험 기능 활성화
   - 블랭크 블록으로 기본 가챠 블록 생성
   - 블록 이름 설정 및 루트 테이블 컴포넌트 추가

2. **스크립트 코드 작성 (01:31-03:00)**
   - 메인.js 파일에 코드 추가
   - 블록 ID와 이름 동기화
   - 보상 아이템 목록 및 확률 설정
   - 랜덤 정수 생성 함수 및 이벤트 핸들러 구현

3. **두 번째 가챠 블록 추가 (03:01-04:00)**
   - 희귀 등급의 가챠 블록 생성
   - 스크립트 코드에 새 블록 정보 추가
   - 텍스처 및 보상 설정 수정

4. **게임 내 테스트 (04:01-끝)**
   - 애드온 적용 및 실험 기능 활성화
   - 명령어를 통한 가챠 블록 획득
   - 서바이벌 모드에서 블록 파괴 및 보상 확인
   - 다양한 보상 아이템 확인

## 자주 묻는 질문

**Q: 보상 아이템의 종류와 확률을 추가로 수정할 수 있나요?**  
A: 네, 스크립트 코드 내의 `rewards` 부분을 수정하여 아이템 ID, 수량, 확률을 자유롭게 조정할 수 있습니다. 예를 들어, 희귀한 아이템은 낮은 확률로, 일반적인 아이템은 높은 확률로 설정할 수 있습니다.

**Q: 마인크래프트 버전이 업데이트되면 애드온이 작동하지 않을 수 있나요?**  
A: 네, 마인크래프트가 업데이트되면 manifest.json 파일의 종속성 버전이 달라질 수 있어 애드온이 작동하지 않을 수 있습니다. 이런 경우에는 manifest.json 파일의 종속성 버전을 최신 버전에 맞게 수정해야 합니다. 영상 설명란에 있는 브릿지 프로젝트 파일을 활용하여 직접 애드온을 생성하는 것이 좋습니다.

**Q: 가챠 블록의 외관을 커스터마이징할 수 있나요?**  
A: 예, 리소스 팩의 텍스처 폴더에 있는 이미지를 수정하여 가챠 블록의 외관을 변경할 수 있습니다. 16x16 픽셀 크기의 이미지를 사용하여 원하는 디자인으로 변경할 수 있습니다.

**Q: 가챠 블록을 부술 때 특수 효과나 소리를 추가할 수 있나요?**  
A: 스크립트 코드에 추가적인 명령어를 삽입하여 파티클 효과, 소리 재생, 타이틀 표시 등의 기능을 구현할 수 있습니다. 예를 들어, `runCommand()` 함수를 사용하여 `/particle` 또는 `/playsound` 명령어를 실행할 수 있습니다.

## 추가 리소스
- [스크립트 API 시작하기 영상](https://youtu.be/zBVdaQ0AXOY)
- [브릿지 가이드 영상](https://youtu.be/L2s8-w8HXIk?si=aWJONVaLN0kngFtg)
- [베드락 공식 문서](https://learn.microsoft.com/ko-kr/minecraft/creator/scriptapi/minecraft/server/minecraft-server)
- [코드 GitHub 저장소](https://github.com/ssakspirit/scriptAPI/blob/main/gachablock.js)
- [스티브코딩 페이스북 페이지](https://www.facebook.com/stvcoding/)

## 이런 분들에게 추천합니다
- 마인크래프트 베드락 에디션에서 애드온 개발을 심화적으로 배우고 싶은 사용자
- 서버에 특별한 블록을 추가하여 사용자 경험을 향상시키고 싶은 서버 운영자
- 미니게임에 랜덤 보상 시스템을 구현하고 싶은 개발자
- 스크립트 API와 이벤트 핸들링을 실제 사례로 배우고 싶은 학습자
- 마인크래프트 관련 창의적인 요소를 추가하고 싶은 플레이어

## 관련 튜토리얼
- [스크립트 API 첫걸음, 채팅명령어 만들기 #애드온제작](https://youtu.be/zBVdaQ0AXOY)
- [블록을 부수는 이벤트 확인하기 #애드온제작](https://youtu.be/YQihKbvthNs)
- [스크립트 API로 본격적으로 애드온 제작하기 #애드온제작](https://youtu.be/ID)
- [애드온 제작을 한다면 꼭 필요한 몇 가지! #애드온제작튜토리얼](https://youtu.be/ID)

## 실습 코드
```javascript
// 가챠 블록 스크립트 코드
import { world, system, BlockPermutation } from "@minecraft/server";

// 가챠 블록 정보
const gachaBlocks = [
  {
    id: "stevecoding:gacha_normal",
    name: "보통 뽑기",
    rewards: [
      { item: "minecraft:emerald_block", min: 1, max: 3, chance: 30 },
      { item: "minecraft:diamond", min: 1, max: 5, chance: 40 },
      { item: "minecraft:netherite_ingot", min: 1, max: 1, chance: 10 },
    ]
  },
  {
    id: "stevecoding:gacha_rare",
    name: "희귀한 뽑기",
    rewards: [
      { item: "minecraft:netherite_block", min: 1, max: 1, chance: 30 },
      { item: "minecraft:diamond_block", min: 1, max: 2, chance: 40 },
      { item: "minecraft:enchanted_golden_apple", min: 1, max: 3, chance: 20 },
    ]
  }
];

// 최소값과 최대값 사이의 랜덤 정수 생성 함수
function getRandomInt(min, max) {
  min = Math.ceil(min);
  max = Math.floor(max);
  return Math.floor(Math.random() * (max - min + 1)) + min;
}

// 블록 파괴 이벤트 처리
world.beforeEvents.playerBreakBlock.subscribe(event => {
  const { player, block } = event;
  const blockId = block.typeId;
  
  // 가챠 블록인지 확인
  const gachaBlock = gachaBlocks.find(gb => gb.id === blockId);
  if (!gachaBlock) return;
  
  // 블록 드롭 방지
  event.cancel = true;
  
  // 랜덤 보상 선택 및 지급
  let totalChance = 0;
  let selectedReward = null;
  
  // 확률 합계 계산
  gachaBlock.rewards.forEach(reward => {
    totalChance += reward.chance;
  });
  
  // 랜덤 값 생성
  const randomValue = getRandomInt(1, totalChance);
  
  // 확률에 따른 보상 선택
  let currentChance = 0;
  for (const reward of gachaBlock.rewards) {
    currentChance += reward.chance;
    if (randomValue <= currentChance) {
      selectedReward = reward;
      break;
    }
  }
  
  if (selectedReward) {
    // 수량 랜덤 결정
    const count = getRandomInt(selectedReward.min, selectedReward.max);
    
    // 아이템 지급
    player.runCommand(`give @s ${selectedReward.item} ${count}`);
    
    // 알림 메시지
    player.tell(`§a${gachaBlock.name}에서 ${count}개의 ${selectedReward.item.split(':')[1]} 획득!`);
  }
});

console.log("가챠 블록 애드온이 로드되었습니다!");
```

## 태그
#마인크래프트 #베드락 #애드온제작 #스크립트API #가챠 #랜덤보상 #게임개발 #스티브코딩 #브릿지에디터 #커스텀블록

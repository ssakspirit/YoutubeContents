---
title: "아이템이 들어있는 셜커상자 판매하기"
date: "2025-04-26"
thumbnail: "https://i.ytimg.com/vi/reTdVCmNwFY/hqdefault.jpg"
tags: ["중급", "베드락", "스크립트API", "소스코드", "설계자", "롱폼"]
url: "https://www.youtube.com/watch?v=reTdVCmNwFY"
duration: "2:19"
series: "스크립트 API 튜토리얼"
episode: null
difficulty: "중급"
---

# 아이템이 들어있는 셜커상자 판매하기

<div align="center">
<img src="https://i.ytimg.com/vi/reTdVCmNwFY/hqdefault.jpg" alt="썸네일" width="600"/>
</div>

## 목차
- [소개](#소개)
- [주요 내용](#주요-내용)
- [실습 과정](#실습-과정)
- [자주 묻는 질문](#자주-묻는-질문)
- [추가 리소스](#추가-리소스)

## 소개
이 영상은 마인크래프트 베드락 에디션에서 스크립트 API를 활용하여 아이템이 들어있는 셜커상자를 등록하고 판매하는 시스템을 구현하는 방법을 알려줍니다. 셜커상자는 아이템 세트를 묶어서 판매할 때 매우 유용합니다. 이 시스템을 통해 서버 운영자나 마인크래프트 월드 제작자는 여러 아이템이 담긴 셜커상자를 복제하여 플레이어에게 판매할 수 있습니다. 원본 셜커상자의 내용물을 그대로 복제하는 방식으로 작동하기 때문에 구매자는 항상 동일한 내용물을 얻을 수 있습니다.

## 주요 내용

### 1. 셜커상자 상점 시스템 원리
- 셜커상자의 내용물을 그대로 유지하며 복제하는 방식
- 동적 속성(Dynamic Property)을 활용한 상점 데이터 저장
- 클론(Clone) 명령어를 활용한 셜커상자 복제 기능
- 채팅 명령어를 통한 상점 인터페이스 구현

### 2. 셜커상자 등록 및 관리
- 관리자 전용 명령어로 셜커상자 등록
- 상점에 등록된 셜커상자 목록 확인
- 기존 등록된 상점 아이템 삭제
- 원본 셜커상자의 위치 및 상태 유지 중요성

### 3. 플레이어 구매 시스템
- 채팅 명령을 통한 상점 접근
- UI를 활용한 직관적 상점 인터페이스
- 에메랄드 기반 가격 설정
- 구매한 셜커상자가 플레이어 위치에 생성되는 메커니즘

## 실습 과정

1. **셜커상자 준비 및 등록 (00:00-00:56)**
   - 셜커상자에 판매할 아이템 세트 준비
   - 셜커상자 위치 좌표 확인 (설정 > 제작자 설정 활성화 필요)
   - 블록 위치 좌표 복사
   - '상자 등록' 명령어 사용하여 상점에 등록
   - 상품명, 가격, 좌표, 설명 정보 입력

2. **상점 사용 및 구매 방법 (00:57-01:22)**
   - 채팅창에 '!상점' 명령어 입력
   - 등록된 상품 목록에서 원하는 상품 선택
   - 상품 정보 및 가격 확인
   - '구매하기' 버튼을 통해 구매 확정
   - 구매한 셜커상자가 플레이어 위치에 생성됨

3. **상점 관리 및 주의사항 (01:23-02:19)**
   - '상자 삭제' 명령어로 등록된 상품 제거
   - 원본 셜커상자 보존의 중요성 설명
   - 원본 셜커상자가 제거되면 복제 불가능해짐
   - 여러 셜커상자 등록 가능
   - 기술적 작동 원리 및 동적 속성 저장 방식 설명

## 자주 묻는 질문

**Q: 이 시스템을 구현하려면 어떤 준비물이 필요한가요?**
A: 마인크래프트 베드락 에디션, '브릿지(Bridge)' 같은 애드온 제작 툴, 스크립트 API에 대한 기본 지식이 필요합니다. 영상 설명란에 GitHub 링크가 있어 소스 코드를 직접 복사하여 사용할 수 있습니다.

**Q: 상점에 등록된 셜커상자의 내용물을 나중에 변경할 수 있나요?**
A: 네, 원본 셜커상자의 내용물을 변경하면 이후 구매하는 플레이어들은 변경된 내용물을 받게 됩니다. 시스템은 구매 시점에 원본 셜커상자를 복제하기 때문입니다.

**Q: 가격을 에메랄드 외에 다른 아이템으로 설정할 수 있나요?**
A: 기본 코드는 에메랄드를 기준으로 설계되어 있지만, 소스 코드를 수정하여 다른 아이템이나 통화 시스템을 사용하도록 변경할 수 있습니다.

**Q: 여러 플레이어가 동시에 상점을 이용할 수 있나요?**
A: 네, 이 시스템은 멀티플레이어 환경에서도 원활하게 작동합니다. 각 플레이어는 독립적으로 상점을 이용할 수 있습니다.

## 추가 리소스

- [GitHub 소스 코드](https://github.com/ssakspirit/scriptAPI/blob/main/shulkerBoxShop.js)
- [스크립트 API 시작하기 영상](https://youtu.be/zBVdaQ0AXOY)
- [복붙한 코드를 애드온으로 바꾸기](https://youtu.be/lZuJxdKgUMg)
- [브릿지 가이드](https://youtu.be/L2s8-w8HXIk)
- [베드락 공식 문서](https://learn.microsoft.com/ko-kr/minecraft/creator/scriptapi/minecraft/server/minecraft-server)
- [스티브 코딩 페이스북 페이지](https://www.facebook.com/stvcoding/)

## 이런 분들에게 추천합니다

- 마인크래프트 서버 운영자 및 관리자
- 마인크래프트 맵 제작자
- 스크립트 API와 애드온 제작에 관심 있는 개발자
- 효율적인 아이템 판매 시스템이 필요한 상점 운영자
- 베드락 에디션에서 확장 기능을 구현하고 싶은 플레이어

## 관련 튜토리얼

- [스크립트 API로 본격적으로 애드온 제작하기](https://www.youtube.com/watch?v=zBVdaQ0AXOY)
- [스크립트 API의 첫걸음, 채팅명령어 만들기](https://www.youtube.com/watch?v=xb9Ke_HShU0)
- [사용자 인터페이스(UI) 제작하기](https://www.youtube.com/watch?v=RnO28hLVPVo)
- [블록을 부수는 이벤트 확인하기](https://www.youtube.com/watch?v=mQD4cMe_QaQ)
- [문제를 내고 푸는 퀴즈 게임 제작](https://www.youtube.com/watch?v=Y3OBst5nBac)

## 실습 코드

```javascript
// 셜커상자 상점 시스템
import { world, system, ItemStack, BlockInventoryComponent, Vector } from "@minecraft/server";

// 상점 데이터 저장을 위한 동적 속성 설정
world.setDynamicProperty("shulkerShops", JSON.stringify([]));

// 명령어 처리 함수
function handleCommand(player, message) {
  if (message.startsWith("상자 등록")) {
    // 상자 등록 명령어 처리
    const args = message.split(" ");
    if (args.length < 5) {
      player.sendMessage("§c사용법: 상자 등록 [이름] [가격] [x y z] [설명]");
      return;
    }
    
    const name = args[2];
    const price = parseInt(args[3]);
    const coords = args[4].split(" ");
    const x = parseInt(coords[0]);
    const y = parseInt(coords[1]);
    const z = parseInt(coords[2]);
    const desc = args.slice(5).join(" ");
    
    registerShulkerBox(player, name, price, {x, y, z}, desc);
  } 
  else if (message.startsWith("!상점")) {
    // 상점 명령어 처리
    showShopMenu(player);
  }
  else if (message.startsWith("상자 삭제")) {
    // 상자 삭제 명령어 처리
    const name = message.split(" ")[2];
    if (!name) {
      player.sendMessage("§c사용법: 상자 삭제 [이름]");
      return;
    }
    
    removeShulkerBox(player, name);
  }
}

// 셜커상자 등록 함수
function registerShulkerBox(player, name, price, position, description) {
  const shops = JSON.parse(world.getDynamicProperty("shulkerShops") || "[]");
  
  // 같은 이름으로 이미 등록된 상자가 있는지 확인
  const existingShop = shops.find(shop => shop.name === name);
  if (existingShop) {
    player.sendMessage(`§c이미 '${name}' 이름으로 등록된 상자가 있습니다.`);
    return;
  }
  
  // 새 상자 정보 저장
  shops.push({
    name,
    price,
    position,
    description
  });
  
  world.setDynamicProperty("shulkerShops", JSON.stringify(shops));
  player.sendMessage(`§a'${name}' 셜커상자가 성공적으로 등록되었습니다.`);
}

// 셜커상자 구매 처리 함수
function buyShulkerBox(player, shopName) {
  const shops = JSON.parse(world.getDynamicProperty("shulkerShops") || "[]");
  const shop = shops.find(s => s.name === shopName);
  
  if (!shop) {
    player.sendMessage(`§c'${shopName}' 상자를 찾을 수 없습니다.`);
    return;
  }
  
  // 에메랄드 확인 및 차감
  const inventory = player.getComponent("inventory");
  const emeraldCount = countEmeralds(player);
  
  if (emeraldCount < shop.price) {
    player.sendMessage(`§c에메랄드가 부족합니다. 필요: ${shop.price}, 보유: ${emeraldCount}`);
    return;
  }
  
  // 에메랄드 차감
  removeEmeralds(player, shop.price);
  
  // 셜커상자 복제 및 플레이어 위치에 배치
  const playerPos = player.location;
  const sourcePos = shop.position;
  
  // 클론 명령어 실행
  player.runCommand(`clone ${sourcePos.x} ${sourcePos.y} ${sourcePos.z} ${sourcePos.x} ${sourcePos.y} ${sourcePos.z} ${Math.floor(playerPos.x)} ${Math.floor(playerPos.y)} ${Math.floor(playerPos.z)}`);
  
  player.sendMessage(`§a'${shopName}' 셜커상자를 구매했습니다.`);
}

// UI 관련 함수들 (생략)...

// 이벤트 리스너 등록
world.beforeEvents.chatSend.subscribe(event => {
  const { sender, message } = event;
  handleCommand(sender, message);
});

// ... 추가 기능 (상자 삭제, 에메랄드 계산 등)
```

## 태그
#마인크래프트 #베드락 #스크립트API #셜커상자 #상점 #애드온제작 #코딩 #게임확장 #월드관리 #아이템판매 #멀티플레이

---
title: "이자율1%... 에메랄드 저금해서 부자되세요!"
date: "2025-02-26"
thumbnail: "https://i.ytimg.com/vi/ylPQI2b_vkw/hqdefault.jpg"
tags: ["중급", "베드락", "스크립트API", "소스코드", "설계자", "롱폼"]
url: "https://www.youtube.com/watch?v=ylPQI2b_vkw"
duration: "2:42"
series: null
episode: null
difficulty: "중급"
---

# 이자율1%... 에메랄드 저금해서 부자되세요!

<div align="center">
<img src="https://i.ytimg.com/vi/ylPQI2b_vkw/hqdefault.jpg" alt="썸네일" width="600"/>
</div>

## 목차
- [소개](#소개)
- [주요 내용](#주요-내용)
- [은행 시스템 기능](#은행-시스템-기능)
- [코드 구조 분석](#코드-구조-분석)
- [구현 과정](#구현-과정)
- [자주 묻는 질문](#자주-묻는-질문)
- [추가 리소스](#추가-리소스)

## 소개

이 영상은 마인크래프트 베드락 에디션에서 Script API를 활용하여 에메랄드 은행 시스템을 구현하는 방법을 소개합니다. 플레이어가 에메랄드를 은행에 저금하고 이자를 받을 수 있으며, 마이너스 통장(대출) 기능까지 포함된 완전한 금융 시스템을 구축할 수 있습니다. 스티브코딩의 신상쌤이 직접 시연하며 코드 구조와 작동 원리를 상세히 설명합니다.

## 주요 내용

### 1. 에메랄드 은행 시스템 개요
- Script API 기반의 금융 시스템 구현
- 에메랄드를 화폐로 사용하는 은행 서비스
- 입금, 출금, 이자 계산 기능
- 플레이어별 독립적인 계좌 관리

### 2. 핵심 기능
- **계좌 생성**: 에메랄드 우클릭 또는 !은행 명령어로 계좌 개설
- **입금/출금**: 직관적인 UI를 통한 거래 처리
- **이자 시스템**: 1분마다 1%의 복리 이자 지급
- **마이너스 통장**: 최대 -1000 에메랄드까지 대출 가능
- **데이터 영속성**: 동적 속성을 통한 안전한 데이터 저장

### 3. 기술적 특징
- Script API의 동적 속성(Dynamic Properties) 활용
- setInterval을 통한 주기적 이자 계산
- 플레이어별 고유 계좌 시스템
- 실시간 잔고 업데이트 및 알림

## 은행 시스템 기능

### 계좌 개설
- **방법 1**: 에메랄드 아이템에 마우스 우클릭
- **방법 2**: 채팅창에 `!은행` 명령어 입력
- 계좌는 즉시 생성되며 삭제 불가능
- 초기 잔고는 0 에메랄드부터 시작

### 입금 기능
- 보유 중인 에메랄드를 계좌에 입금
- 입금한 에메랄드는 안전하게 보관
- 입금 즉시 은행 UI에 반영
- 입금량에 제한 없음

### 출금 기능
- 계좌 잔고 범위 내에서 출금 가능
- 마이너스 통장 한도까지 초과 출금 가능
- 출금된 에메랄드는 인벤토리에 추가
- 최대 마이너스 한도: -1000 에메랄드

### 이자 시스템
- **이자율**: 1%
- **지급 주기**: 1분마다
- **계산 방식**: 복리 이자 적용
- **마이너스 이자**: 대출 잔액에도 이자 부과

## 코드 구조 분석

### 데이터 저장 구조
```javascript
// 동적 속성으로 계좌 데이터 관리
// 계좌 구조: {
//   balance: 잔고,
//   lastInterestTime: 마지막 이자 지급 시간,
//   accountCreated: 계좌 생성 시간
// }
```

### 계좌 생성 로직
- 플레이어 UUID 기반 고유 계좌 식별
- 초기 잔고 0 설정
- 생성 시간 및 마지막 이자 지급 시간 기록
- 동적 속성에 계좌 정보 저장

### 입금 처리 함수
- 플레이어 인벤토리에서 에메랄드 차감
- 계좌 잔고에 입금액 추가
- saveBankAccount() 함수로 데이터 저장
- 입금 완료 메시지 표시

### 출금 처리 함수
- 출금 가능 한도 확인 (잔고 + 마이너스 한도)
- 계좌 잔고에서 출금액 차감
- 플레이어 인벤토리에 에메랄드 추가
- 출금 완료 메시지 표시

### 이자 계산 및 적용
```javascript
// setInterval을 통한 주기적 실행
// 이자 = 기존 잔고 × 이자율
// 새 잔고 = 기존 잔고 + 이자
```

## 구현 과정

### 1단계: 환경 설정
1. **Script API 준비**: 베드락 에디션 Script API 환경 구축
2. **개발 도구**: Bridge 등 개발 도구 설치
3. **코드 준비**: GitHub에서 소스코드 다운로드

### 2단계: 핵심 기능 구현
1. **계좌 시스템**: 플레이어별 고유 계좌 생성 로직
2. **UI 구성**: 입금/출금 인터페이스 구현
3. **데이터 관리**: 동적 속성을 통한 영속적 저장
4. **이자 시스템**: 주기적 이자 계산 및 적용

### 3단계: 고급 기능 추가
1. **마이너스 통장**: 대출 기능 구현
2. **한도 관리**: 최대 마이너스 한도 설정
3. **알림 시스템**: 이자 지급 및 거래 완료 메시지
4. **오류 처리**: 예외 상황 대응 로직

### 4단계: 테스트 및 배포
1. **기능 테스트**: 모든 기능의 정상 작동 확인
2. **애드온 변환**: 스크립트를 애드온 형태로 변환
3. **배포 준비**: 최종 패키징 및 설치 가이드

## 자주 묻는 질문

**Q: 계좌를 삭제할 수 있나요?**
A: 아니요. 계좌는 생성 후 삭제할 수 없습니다. 이는 데이터의 안정성을 보장하기 위한 설계입니다.

**Q: 이자율을 변경할 수 있나요?**
A: 네, 코드에서 이자율 설정을 변경하면 됩니다. 현재는 1%로 설정되어 있지만 원하는 값으로 조정 가능합니다.

**Q: 마이너스 통장 한도를 늘릴 수 있나요?**
A: 코드의 최소 잔액 설정을 변경하면 마이너스 한도를 조정할 수 있습니다. 현재는 -1000으로 설정되어 있습니다.

**Q: 다른 플레이어 계좌에 접근할 수 있나요?**
A: 아니요. 각 플레이어는 자신의 계좌에만 접근 가능합니다. 플레이어별 고유 식별자로 계좌가 분리됩니다.

**Q: 서버 재시작 시 계좌 정보가 유지되나요?**
A: 네, 동적 속성으로 저장되므로 서버 재시작 후에도 계좌 정보가 유지됩니다.

## 추가 리소스

### 코드 및 가이드
- [소스코드 GitHub 저장소](https://github.com/ssakspirit/scriptAPI/blob/main/emeraldBankSystem.js)
- [Script API 시작하기 가이드](https://youtu.be/zBVdaQ0AXOY)
- [복붙한 코드를 애드온으로 바꾸기](https://youtu.be/lZuJxdKgUMg)
- [Bridge 가이드](https://youtu.be/L2s8-w8HXIk)
- [베드락 공식 문서](https://learn.microsoft.com/ko-kr/minecraft/creator/scriptapi/minecraft/server/minecraft-server)

### 관련 리소스
- [스티브코딩 페이스북 페이지](https://www.facebook.com/stvcoding/)
- [Script API 튜토리얼 시리즈](링크)
- [베드락 에디션 개발 가이드](링크)

## 이런 분들에게 추천합니다

- Script API를 학습하고 싶은 베드락 에디션 개발자들
- 마인크래프트에서 경제 시스템을 구축하고 싶은 서버 운영자들
- 복합적인 데이터 관리 시스템에 관심 있는 프로그래머들
- 게임 내 금융 시스템의 작동 원리를 이해하고 싶은 학습자들
- 실전 Script API 프로젝트를 찾는 중급 개발자들

## 관련 튜토리얼

- [마인크래프트 Script API 기초]
- [동적 속성 활용법]
- [베드락 에디션 애드온 제작]
- [게임 내 경제 시스템 설계]

## 구현 코드 예시

### 계좌 생성 함수
```javascript
function createBankAccount(player) {
    const accountData = {
        balance: 0,
        lastInterestTime: Date.now(),
        accountCreated: Date.now()
    };
    saveBankAccount(player, accountData);
}
```

### 이자 계산 함수
```javascript
function calculateInterest(balance, interestRate) {
    return balance * (interestRate / 100);
}

function applyInterest() {
    // 모든 플레이어 계좌에 대해 이자 적용
    const interest = calculateInterest(currentBalance, INTEREST_RATE);
    const newBalance = currentBalance + interest;
    
    // 이자 지급 알림
    player.sendMessage(`이자 ${interest} 에메랄드가 지급되었습니다.`);
}
```

### 입금/출금 처리
```javascript
function deposit(player, amount) {
    // 플레이어 인벤토리에서 에메랄드 확인
    if (hasEnoughEmeralds(player, amount)) {
        removeEmeralds(player, amount);
        account.balance += amount;
        saveBankAccount(player, account);
        player.sendMessage(`${amount} 에메랄드가 입금되었습니다.`);
    }
}

function withdraw(player, amount) {
    const maxWithdraw = account.balance + MAX_OVERDRAFT;
    if (amount <= maxWithdraw) {
        account.balance -= amount;
        addEmeralds(player, amount);
        saveBankAccount(player, account);
        player.sendMessage(`${amount} 에메랄드가 출금되었습니다.`);
    }
}
```

## 시스템 설정 가능 항목

### 기본 설정
- **이자율**: 현재 1% (수정 가능)
- **이자 지급 주기**: 1분 (수정 가능)
- **마이너스 한도**: -1000 에메랄드 (수정 가능)
- **초기 잔고**: 0 에메랄드

### 고급 설정
- **계좌 생성 제한**: 없음 (플레이어당 1개)
- **거래 수수료**: 없음 (추가 구현 가능)
- **잔고 상한선**: 없음 (필요시 추가 가능)
- **이자 복리 방식**: 복리 적용

## 확장 가능한 기능들

### 추가 구현 가능 기능
1. **거래 내역 조회**: 입금/출금 기록 추가
2. **다중 계좌**: 플레이어당 여러 계좌 허용
3. **계좌 간 이체**: 플레이어 간 에메랄드 송금
4. **정기 예금**: 고정 기간 고금리 상품
5. **대출 상품**: 다양한 대출 조건 설정

### 관리자 기능
1. **계좌 관리**: 관리자의 모든 계좌 조회/수정
2. **이자율 동적 변경**: 게임 중 이자율 조정
3. **거래 모니터링**: 의심스러운 거래 추적
4. **백업/복원**: 은행 데이터 백업 시스템

## 보안 및 안정성

### 데이터 보호
- 동적 속성을 통한 안전한 저장
- 플레이어별 격리된 계좌 시스템
- 거래 검증 로직 포함

### 오류 방지
- 잘못된 입력값 검증
- 인벤토리 공간 확인
- 오버플로우 방지 로직

### 성능 최적화
- 효율적인 데이터 구조 사용
- 불필요한 연산 최소화
- 메모리 사용량 관리

## 교육적 가치

### 프로그래밍 학습
- Script API 활용법 습득
- 비동기 처리 개념 이해
- 데이터 영속성 구현 방법

### 금융 지식
- 복리 이자의 개념과 계산
- 대출과 신용의 기본 원리
- 금융 시스템의 작동 방식

### 게임 개발
- 경제 시스템 설계 원리
- 플레이어 경험 향상 방법
- 밸런스 조정의 중요성

## 태그

#마인크래프트 #베드락에디션 #ScriptAPI #에메랄드은행 #금융시스템 #이자계산 #마이너스통장 #스티브코딩 #코딩튜토리얼 #게임개발
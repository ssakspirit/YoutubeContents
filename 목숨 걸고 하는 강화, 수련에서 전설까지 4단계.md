---
title: "목숨 걸고 하는 강화, 수련에서 전설까지 4단계"
date: "2025-04-26"
thumbnail: "https://i.ytimg.com/vi/ONdQzLFpdTg/hqdefault.jpg"
tags: ["고급", "베드락", "스크립트API", "소스코드", "설계자", "롱폼"]
url: "https://www.youtube.com/watch?v=ONdQzLFpdTg"
duration: "6:21"
series: "스크립트 API 튜토리얼"
episode: 3
difficulty: "고급"
---

# 목숨 걸고 하는 강화, 수련에서 전설까지 4단계

<div align="center">
<img src="https://i.ytimg.com/vi/ONdQzLFpdTg/hqdefault.jpg" alt="썸네일" width="600"/>
</div>

## 목차
- [소개](#소개)
- [주요 내용](#주요-내용)
- [실습 과정](#실습-과정)
- [자주 묻는 질문](#자주-묻는-질문)
- [추가 리소스](#추가-리소스)

## 소개
이 영상은 마인크래프트 베드락 에디션의 스크립트 API를 활용하여 RPG 게임에서 자주 볼 수 있는 '장비 강화 시스템'을 구현하는 방법을 설명합니다. 플레이어가 자신의 능력치를 '수련', '각성', '정예', '전설'의 4단계로 강화할 수 있으나, 실패 시 목숨을 잃고 등급이 하락하는 위험한 도박 요소가 포함된 시스템을 만드는 과정을 상세히 알려줍니다.

## 주요 내용

### 1. 강화 시스템 설계
- 4단계 등급 체계: 수련 → 각성 → 정예 → 전설
- 각 등급별 강화 비용과 성공 확률 설정
- 등급별 플레이어 능력치(체력, 저항, 속도) 차등 부여
- 플레이어 이름 위에 등급 표시 (색상으로 구분)

### 2. 스크립트 API 핵심 기능
- 플레이어 동적 속성을 활용한 등급 정보 저장
- 강화 시도 시 확률 기반 성공/실패 판정
- 채팅 명령어를 통한 강화 시스템 조작
- 강화 결과에 따른 시각/청각적 피드백

### 3. 주요 코딩 컨셉
- 클래스를 활용한 등급 시스템 구현
- 비동기 함수를 통한 명령어 실행 및 결과 대기
- 삼항 연산자와 switch 문을 활용한 조건별 처리
- 시간 지연을 활용한 효과적인 메시지 표시

## 실습 과정

1. **강화 시스템 기본 구조 (00:00-01:30)**
   - 채팅 명령어 `!강화정보`로 현재 등급 및 필요 재료 확인
   - 에메랄드를 활용한 강화 재료 시스템
   - 성공 시 상위 등급으로 승급 및 능력치 향상
   - 실패 시 사망 및 등급 하락

2. **코드 구조 분석 (01:31-04:30)**
   - 클래스 구성 및 등급별 속성 정의
   - 플레이어 레벨 저장 및 불러오기 함수
   - 등급별 스탯 적용 방식 (switch 문 활용)
   - 이름표에 등급 표시 함수

3. **핵심 기능 구현 세부사항 (04:31-끝)**
   - 강화 비용 확인 및 소비 함수
   - 성공/실패 판정 로직 구현
   - 결과에 따른 차별화된 피드백 제공
   - 플레이어 참여 시 이전 등급 자동 적용

## 자주 묻는 질문

**Q: 성공 확률을 수정하려면 어떻게 해야 하나요?**
A: 코드 내의 config 객체 내에서 각 등급별로 정의된 'successRate' 값을 원하는 확률로 수정하면 됩니다. 0에서 100 사이의 숫자로 성공 확률을 퍼센트로 지정할 수 있습니다.

**Q: 강화에 필요한 에메랄드 수량을 변경할 수 있나요?**
A: 네, 코드에서 각 등급별 'cost' 값을 변경하여 필요한 에메랄드 수량을 조정할 수 있습니다. 더 높은 등급일수록 더 많은 에메랄드를 요구하도록 설정하는 것이 일반적입니다.

**Q: 등급별로 부여되는 능력치를 변경할 수 있나요?**
A: 네, applyStat 함수 내의 switch 문에서 각 등급별로 부여하는 효과(health, resistance, speed 등)의 수치를 변경하여 원하는 능력치를 설정할 수 있습니다.

**Q: 강화 실패 시 반드시 사망해야 하나요?**
A: 아니요, tryEnhance 함수에서 실패 시 수행되는 코드를 수정하여 사망 대신 다른 페널티(예: 아이템 소실, 일시적 디버프 등)를 적용할 수 있습니다.

## 추가 리소스
- [마인크래프트 베드락 에디션 스크립트 API 문서](https://docs.microsoft.com/en-us/minecraft/creator/)
- [베드락 에디션 애드온 제작 가이드](https://www.minecraft.net/en-us/article/addon-creators-intro-scripting-api)
- [스크립트 API 예제 모음](https://github.com/microsoft/minecraft-scripting-samples)
- [스티브코딩 페이스북 페이지](https://www.facebook.com/stvcoding/)

## 이런 분들에게 추천합니다
- 마인크래프트 베드락 에디션에서 스크립트 API를 배우고 싶은 개발자
- RPG 요소를 게임에 추가하고 싶은 마인크래프트 서버 관리자
- 도전과 위험이 있는 재미있는 게임 시스템을 구현하고 싶은 제작자
- 플레이어 진행과 성장 시스템에 관심 있는 게임 디자이너
- 자바스크립트를 활용한 마인크래프트 프로그래밍을 배우고 싶은 학습자

## 관련 튜토리얼
- 스크립트 API의 첫걸음, 채팅명령어 만들기 #애드온제작
- 스크립트 API로 본격적으로 애드온 제작하기 #애드온제작
- 스크립트 API영상의 코드를 이렇게 애드온으로 바꾸세요
- 애드온 제작을 한다면 꼭 필요한 몇 가지! #애드온제작튜토리얼

## 실습 코드
```javascript
// 강화 시스템 클래스 정의
class EnhancementSystem {
  constructor() {
    // 등급별 설정
    this.config = {
      // 수련 단계 (레벨 1)
      1: {
        name: "수련",
        color: "§7",
        hp: 0,
        cost: 0,
        successRate: 100
      },
      // 각성 단계 (레벨 2)
      2: {
        name: "각성",
        color: "§a",
        hp: 30,
        cost: 10,
        successRate: 40
      },
      // 정예 단계 (레벨 3)
      3: {
        name: "정예",
        color: "§b",
        hp: 60,
        cost: 20,
        successRate: 30
      },
      // 전설 단계 (레벨 4)
      4: {
        name: "전설",
        color: "§6",
        hp: 100,
        cost: 50,
        successRate: 20
      }
    };
  }

  // 플레이어 레벨 저장
  savePlayerLevel(player, level) {
    player.setDynamicProperty("enhancement_level", level);
    this.applyStat(player);
    this.setNameTag(player);
  }

  // 플레이어 레벨 가져오기
  getPlayerLevel(player) {
    const level = player.getDynamicProperty("enhancement_level");
    return level ? level : 1; // 기본값 1 (수련)
  }

  // 강화 시도 함수
  async tryEnhance(player) {
    const currentLevel = this.getPlayerLevel(player);
    const nextLevel = currentLevel + 1;
    
    // 최대 레벨 체크
    if (nextLevel > 4) {
      player.sendMessage("§c이미 최대 등급입니다!");
      return;
    }
    
    // 비용 확인
    const hasCost = await this.checkCost(player, nextLevel);
    if (!hasCost) {
      player.sendMessage(`§c강화에 필요한 에메랄드가 부족합니다! (${this.config[nextLevel].cost}개 필요)`);
      return;
    }
    
    // 비용 소비
    this.consumeCost(player, nextLevel);
    
    // 성공/실패 판정
    const success = (Math.random() * 100) < this.config[nextLevel].successRate;
    
    if (success) {
      // 성공
      this.savePlayerLevel(player, nextLevel);
      player.playSound("random.levelup");
      player.spawnParticle("minecraft:totem_particle");
      player.sendMessage(`§a${this.config[nextLevel].name} 등급으로 강화 성공했습니다!`);
    } else {
      // 실패
      this.savePlayerLevel(player, 1); // 수련으로 강등
      player.kill(); // 사망 처리
      player.sendMessage("§c강화 실패! 수련 단계로 돌아갑니다.");
    }
    
    // 딜레이 후 메시지
    system.runTimeout(() => {
      player.sendMessage(success ? 
        "§e능력이 향상된 것을 느낍니다!" : 
        "§c실패는 성공의 어머니... 다시 도전하세요!"
      );
    }, success ? 20 : 60); // 성공은 1초, 실패는 3초 후
  }
}
```

## 태그
#마인크래프트 #베드락에디션 #스크립트API #RPG요소 #강화시스템 #애드온제작 #게임프로그래밍 #스티브코딩
